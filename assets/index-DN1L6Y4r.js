var id=Object.defineProperty;var od=(e,t,n)=>t in e?id(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var A=(e,t,n)=>od(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function ad(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ua={exports:{}},Ds={},Ha={exports:{}},O={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fr=Symbol.for("react.element"),ud=Symbol.for("react.portal"),cd=Symbol.for("react.fragment"),dd=Symbol.for("react.strict_mode"),fd=Symbol.for("react.profiler"),pd=Symbol.for("react.provider"),hd=Symbol.for("react.context"),md=Symbol.for("react.forward_ref"),vd=Symbol.for("react.suspense"),gd=Symbol.for("react.memo"),yd=Symbol.for("react.lazy"),fo=Symbol.iterator;function xd(e){return e===null||typeof e!="object"?null:(e=fo&&e[fo]||e["@@iterator"],typeof e=="function"?e:null)}var Ba={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wa=Object.assign,Qa={};function kn(e,t,n){this.props=e,this.context=t,this.refs=Qa,this.updater=n||Ba}kn.prototype.isReactComponent={};kn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};kn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qa(){}qa.prototype=kn.prototype;function gi(e,t,n){this.props=e,this.context=t,this.refs=Qa,this.updater=n||Ba}var yi=gi.prototype=new qa;yi.constructor=gi;Wa(yi,kn.prototype);yi.isPureReactComponent=!0;var po=Array.isArray,Ka=Object.prototype.hasOwnProperty,xi={current:null},Ga={key:!0,ref:!0,__self:!0,__source:!0};function Ya(e,t,n){var r,s={},l=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)Ka.call(t,r)&&!Ga.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:fr,type:e,key:l,ref:i,props:s,_owner:xi.current}}function wd(e,t){return{$$typeof:fr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wi(e){return typeof e=="object"&&e!==null&&e.$$typeof===fr}function Sd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ho=/\/+/g;function Ks(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Sd(""+e.key):t.toString(36)}function Gr(e,t,n,r,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case fr:case ud:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Ks(i,0):r,po(s)?(n="",e!=null&&(n=e.replace(ho,"$&/")+"/"),Gr(s,t,n,"",function(c){return c})):s!=null&&(wi(s)&&(s=wd(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(ho,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",po(e))for(var a=0;a<e.length;a++){l=e[a];var u=r+Ks(l,a);i+=Gr(l,t,n,u,s)}else if(u=xd(e),typeof u=="function")for(e=u.call(e),a=0;!(l=e.next()).done;)l=l.value,u=r+Ks(l,a++),i+=Gr(l,t,n,u,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function yr(e,t,n){if(e==null)return e;var r=[],s=0;return Gr(e,r,"","",function(l){return t.call(n,l,s++)}),r}function kd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ve={current:null},Yr={transition:null},Nd={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:Yr,ReactCurrentOwner:xi};function Xa(){throw Error("act(...) is not supported in production builds of React.")}O.Children={map:yr,forEach:function(e,t,n){yr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return yr(e,function(){t++}),t},toArray:function(e){return yr(e,function(t){return t})||[]},only:function(e){if(!wi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};O.Component=kn;O.Fragment=cd;O.Profiler=fd;O.PureComponent=gi;O.StrictMode=dd;O.Suspense=vd;O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nd;O.act=Xa;O.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Wa({},e.props),s=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=xi.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Ka.call(t,u)&&!Ga.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:fr,type:e.type,key:s,ref:l,props:r,_owner:i}};O.createContext=function(e){return e={$$typeof:hd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pd,_context:e},e.Consumer=e};O.createElement=Ya;O.createFactory=function(e){var t=Ya.bind(null,e);return t.type=e,t};O.createRef=function(){return{current:null}};O.forwardRef=function(e){return{$$typeof:md,render:e}};O.isValidElement=wi;O.lazy=function(e){return{$$typeof:yd,_payload:{_status:-1,_result:e},_init:kd}};O.memo=function(e,t){return{$$typeof:gd,type:e,compare:t===void 0?null:t}};O.startTransition=function(e){var t=Yr.transition;Yr.transition={};try{e()}finally{Yr.transition=t}};O.unstable_act=Xa;O.useCallback=function(e,t){return ve.current.useCallback(e,t)};O.useContext=function(e){return ve.current.useContext(e)};O.useDebugValue=function(){};O.useDeferredValue=function(e){return ve.current.useDeferredValue(e)};O.useEffect=function(e,t){return ve.current.useEffect(e,t)};O.useId=function(){return ve.current.useId()};O.useImperativeHandle=function(e,t,n){return ve.current.useImperativeHandle(e,t,n)};O.useInsertionEffect=function(e,t){return ve.current.useInsertionEffect(e,t)};O.useLayoutEffect=function(e,t){return ve.current.useLayoutEffect(e,t)};O.useMemo=function(e,t){return ve.current.useMemo(e,t)};O.useReducer=function(e,t,n){return ve.current.useReducer(e,t,n)};O.useRef=function(e){return ve.current.useRef(e)};O.useState=function(e){return ve.current.useState(e)};O.useSyncExternalStore=function(e,t,n){return ve.current.useSyncExternalStore(e,t,n)};O.useTransition=function(){return ve.current.useTransition()};O.version="18.3.1";Ha.exports=O;var j=Ha.exports;const Za=ad(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ed=j,jd=Symbol.for("react.element"),Cd=Symbol.for("react.fragment"),Id=Object.prototype.hasOwnProperty,Td=Ed.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rd={key:!0,ref:!0,__self:!0,__source:!0};function Ja(e,t,n){var r,s={},l=null,i=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Id.call(t,r)&&!Rd.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:jd,type:e,key:l,ref:i,props:s,_owner:Td.current}}Ds.Fragment=Cd;Ds.jsx=Ja;Ds.jsxs=Ja;Ua.exports=Ds;var o=Ua.exports,ba={exports:{}},Re={},eu={exports:{}},tu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(w,_){var P=w.length;w.push(_);e:for(;0<P;){var F=P-1>>>1,Q=w[F];if(0<s(Q,_))w[F]=_,w[P]=Q,P=F;else break e}}function n(w){return w.length===0?null:w[0]}function r(w){if(w.length===0)return null;var _=w[0],P=w.pop();if(P!==_){w[0]=P;e:for(var F=0,Q=w.length,fe=Q>>>1;F<fe;){var Rt=2*(F+1)-1,qs=w[Rt],Dt=Rt+1,gr=w[Dt];if(0>s(qs,P))Dt<Q&&0>s(gr,qs)?(w[F]=gr,w[Dt]=P,F=Dt):(w[F]=qs,w[Rt]=P,F=Rt);else if(Dt<Q&&0>s(gr,P))w[F]=gr,w[Dt]=P,F=Dt;else break e}}return _}function s(w,_){var P=w.sortIndex-_.sortIndex;return P!==0?P:w.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var u=[],c=[],d=1,v=null,m=3,g=!1,y=!1,x=!1,R=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(w){for(var _=n(c);_!==null;){if(_.callback===null)r(c);else if(_.startTime<=w)r(c),_.sortIndex=_.expirationTime,t(u,_);else break;_=n(c)}}function S(w){if(x=!1,h(w),!y)if(n(u)!==null)y=!0,T(k);else{var _=n(c);_!==null&&M(S,_.startTime-w)}}function k(w,_){y=!1,x&&(x=!1,p(I),I=-1),g=!0;var P=m;try{for(h(_),v=n(u);v!==null&&(!(v.expirationTime>_)||w&&!b());){var F=v.callback;if(typeof F=="function"){v.callback=null,m=v.priorityLevel;var Q=F(v.expirationTime<=_);_=e.unstable_now(),typeof Q=="function"?v.callback=Q:v===n(u)&&r(u),h(_)}else r(u);v=n(u)}if(v!==null)var fe=!0;else{var Rt=n(c);Rt!==null&&M(S,Rt.startTime-_),fe=!1}return fe}finally{v=null,m=P,g=!1}}var C=!1,E=null,I=-1,z=5,L=-1;function b(){return!(e.unstable_now()-L<z)}function Ee(){if(E!==null){var w=e.unstable_now();L=w;var _=!0;try{_=E(!0,w)}finally{_?ye():(C=!1,E=null)}}else C=!1}var ye;if(typeof f=="function")ye=function(){f(Ee)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,Tt=Qe.port2;Qe.port1.onmessage=Ee,ye=function(){Tt.postMessage(null)}}else ye=function(){R(Ee,0)};function T(w){E=w,C||(C=!0,ye())}function M(w,_){I=R(function(){w(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(w){w.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,T(k))},e.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<w?Math.floor(1e3/w):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(w){switch(m){case 1:case 2:case 3:var _=3;break;default:_=m}var P=m;m=_;try{return w()}finally{m=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(w,_){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var P=m;m=w;try{return _()}finally{m=P}},e.unstable_scheduleCallback=function(w,_,P){var F=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?F+P:F):P=F,w){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=P+Q,w={id:d++,callback:_,priorityLevel:w,startTime:P,expirationTime:Q,sortIndex:-1},P>F?(w.sortIndex=P,t(c,w),n(u)===null&&w===n(c)&&(x?(p(I),I=-1):x=!0,M(S,P-F))):(w.sortIndex=Q,t(u,w),y||g||(y=!0,T(k))),w},e.unstable_shouldYield=b,e.unstable_wrapCallback=function(w){var _=m;return function(){var P=m;m=_;try{return w.apply(this,arguments)}finally{m=P}}}})(tu);eu.exports=tu;var Dd=eu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad=j,Te=Dd;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nu=new Set,Gn={};function Qt(e,t){hn(e,t),hn(e+"Capture",t)}function hn(e,t){for(Gn[e]=t,e=0;e<t.length;e++)nu.add(t[e])}var rt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kl=Object.prototype.hasOwnProperty,Ld=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mo={},vo={};function _d(e){return kl.call(vo,e)?!0:kl.call(mo,e)?!1:Ld.test(e)?vo[e]=!0:(mo[e]=!0,!1)}function Pd(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fd(e,t,n,r){if(t===null||typeof t>"u"||Pd(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ge(e,t,n,r,s,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){oe[e]=new ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];oe[t]=new ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){oe[e]=new ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){oe[e]=new ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){oe[e]=new ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){oe[e]=new ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){oe[e]=new ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){oe[e]=new ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){oe[e]=new ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var Si=/[\-:]([a-z])/g;function ki(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Si,ki);oe[t]=new ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Si,ki);oe[t]=new ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Si,ki);oe[t]=new ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){oe[e]=new ge(e,1,!1,e.toLowerCase(),null,!1,!1)});oe.xlinkHref=new ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){oe[e]=new ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ni(e,t,n,r){var s=oe.hasOwnProperty(t)?oe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fd(t,n,s,r)&&(n=null),r||s===null?_d(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ot=Ad.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xr=Symbol.for("react.element"),Yt=Symbol.for("react.portal"),Xt=Symbol.for("react.fragment"),Ei=Symbol.for("react.strict_mode"),Nl=Symbol.for("react.profiler"),ru=Symbol.for("react.provider"),su=Symbol.for("react.context"),ji=Symbol.for("react.forward_ref"),El=Symbol.for("react.suspense"),jl=Symbol.for("react.suspense_list"),Ci=Symbol.for("react.memo"),ut=Symbol.for("react.lazy"),lu=Symbol.for("react.offscreen"),go=Symbol.iterator;function jn(e){return e===null||typeof e!="object"?null:(e=go&&e[go]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Object.assign,Gs;function Fn(e){if(Gs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gs=t&&t[1]||""}return`
`+Gs+e}var Ys=!1;function Xs(e,t){if(!e||Ys)return"";Ys=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),l=r.stack.split(`
`),i=s.length-1,a=l.length-1;1<=i&&0<=a&&s[i]!==l[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==l[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==l[a]){var u=`
`+s[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=i&&0<=a);break}}}finally{Ys=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fn(e):""}function Od(e){switch(e.tag){case 5:return Fn(e.type);case 16:return Fn("Lazy");case 13:return Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 2:case 15:return e=Xs(e.type,!1),e;case 11:return e=Xs(e.type.render,!1),e;case 1:return e=Xs(e.type,!0),e;default:return""}}function Cl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xt:return"Fragment";case Yt:return"Portal";case Nl:return"Profiler";case Ei:return"StrictMode";case El:return"Suspense";case jl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case su:return(e.displayName||"Context")+".Consumer";case ru:return(e._context.displayName||"Context")+".Provider";case ji:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ci:return t=e.displayName||null,t!==null?t:Cl(e.type)||"Memo";case ut:t=e._payload,e=e._init;try{return Cl(e(t))}catch{}}return null}function Md(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cl(t);case 8:return t===Ei?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $d(e){var t=iu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wr(e){e._valueTracker||(e._valueTracker=$d(e))}function ou(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=iu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function is(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Il(e,t){var n=t.checked;return Y({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function yo(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Nt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function au(e,t){t=t.checked,t!=null&&Ni(e,"checked",t,!1)}function Tl(e,t){au(e,t);var n=Nt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Rl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Rl(e,t.type,Nt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xo(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Rl(e,t,n){(t!=="number"||is(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var On=Array.isArray;function an(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Nt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Dl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return Y({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wo(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(On(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Nt(n)}}function uu(e,t){var n=Nt(t.value),r=Nt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function So(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Al(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Sr,du=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Sr=Sr||document.createElement("div"),Sr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Sr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zd=["Webkit","ms","Moz","O"];Object.keys(zn).forEach(function(e){zd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zn[t]=zn[e]})});function fu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||zn.hasOwnProperty(e)&&zn[e]?(""+t).trim():t+"px"}function pu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=fu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Vd=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ll(e,t){if(t){if(Vd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function _l(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pl=null;function Ii(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fl=null,un=null,cn=null;function ko(e){if(e=mr(e)){if(typeof Fl!="function")throw Error(N(280));var t=e.stateNode;t&&(t=Fs(t),Fl(e.stateNode,e.type,t))}}function hu(e){un?cn?cn.push(e):cn=[e]:un=e}function mu(){if(un){var e=un,t=cn;if(cn=un=null,ko(e),t)for(e=0;e<t.length;e++)ko(t[e])}}function vu(e,t){return e(t)}function gu(){}var Zs=!1;function yu(e,t,n){if(Zs)return e(t,n);Zs=!0;try{return vu(e,t,n)}finally{Zs=!1,(un!==null||cn!==null)&&(gu(),mu())}}function Xn(e,t){var n=e.stateNode;if(n===null)return null;var r=Fs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var Ol=!1;if(rt)try{var Cn={};Object.defineProperty(Cn,"passive",{get:function(){Ol=!0}}),window.addEventListener("test",Cn,Cn),window.removeEventListener("test",Cn,Cn)}catch{Ol=!1}function Ud(e,t,n,r,s,l,i,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Vn=!1,os=null,as=!1,Ml=null,Hd={onError:function(e){Vn=!0,os=e}};function Bd(e,t,n,r,s,l,i,a,u){Vn=!1,os=null,Ud.apply(Hd,arguments)}function Wd(e,t,n,r,s,l,i,a,u){if(Bd.apply(this,arguments),Vn){if(Vn){var c=os;Vn=!1,os=null}else throw Error(N(198));as||(as=!0,Ml=c)}}function qt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function No(e){if(qt(e)!==e)throw Error(N(188))}function Qd(e){var t=e.alternate;if(!t){if(t=qt(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return No(s),e;if(l===r)return No(s),t;l=l.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=l;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=l;break}if(a===r){i=!0,r=s,n=l;break}a=a.sibling}if(!i){for(a=l.child;a;){if(a===n){i=!0,n=l,r=s;break}if(a===r){i=!0,r=l,n=s;break}a=a.sibling}if(!i)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function wu(e){return e=Qd(e),e!==null?Su(e):null}function Su(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Su(e);if(t!==null)return t;e=e.sibling}return null}var ku=Te.unstable_scheduleCallback,Eo=Te.unstable_cancelCallback,qd=Te.unstable_shouldYield,Kd=Te.unstable_requestPaint,Z=Te.unstable_now,Gd=Te.unstable_getCurrentPriorityLevel,Ti=Te.unstable_ImmediatePriority,Nu=Te.unstable_UserBlockingPriority,us=Te.unstable_NormalPriority,Yd=Te.unstable_LowPriority,Eu=Te.unstable_IdlePriority,As=null,Ye=null;function Xd(e){if(Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(As,e,void 0,(e.current.flags&128)===128)}catch{}}var Ue=Math.clz32?Math.clz32:bd,Zd=Math.log,Jd=Math.LN2;function bd(e){return e>>>=0,e===0?32:31-(Zd(e)/Jd|0)|0}var kr=64,Nr=4194304;function Mn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=Mn(a):(l&=i,l!==0&&(r=Mn(l)))}else i=n&~s,i!==0?r=Mn(i):l!==0&&(r=Mn(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ue(t),s=1<<n,r|=e[n],t&=~s;return r}function ef(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-Ue(l),a=1<<i,u=s[i];u===-1?(!(a&n)||a&r)&&(s[i]=ef(a,t)):u<=t&&(e.expiredLanes|=a),l&=~a}}function $l(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ju(){var e=kr;return kr<<=1,!(kr&4194240)&&(kr=64),e}function Js(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ue(t),e[t]=n}function nf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ue(n),l=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~l}}function Ri(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ue(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var V=0;function Cu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Iu,Di,Tu,Ru,Du,zl=!1,Er=[],mt=null,vt=null,gt=null,Zn=new Map,Jn=new Map,dt=[],rf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jo(e,t){switch(e){case"focusin":case"focusout":mt=null;break;case"dragenter":case"dragleave":vt=null;break;case"mouseover":case"mouseout":gt=null;break;case"pointerover":case"pointerout":Zn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jn.delete(t.pointerId)}}function In(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=mr(t),t!==null&&Di(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function sf(e,t,n,r,s){switch(t){case"focusin":return mt=In(mt,e,t,n,r,s),!0;case"dragenter":return vt=In(vt,e,t,n,r,s),!0;case"mouseover":return gt=In(gt,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return Zn.set(l,In(Zn.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,Jn.set(l,In(Jn.get(l)||null,e,t,n,r,s)),!0}return!1}function Au(e){var t=Ft(e.target);if(t!==null){var n=qt(t);if(n!==null){if(t=n.tag,t===13){if(t=xu(n),t!==null){e.blockedOn=t,Du(e.priority,function(){Tu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Pl=r,n.target.dispatchEvent(r),Pl=null}else return t=mr(n),t!==null&&Di(t),e.blockedOn=n,!1;t.shift()}return!0}function Co(e,t,n){Xr(e)&&n.delete(t)}function lf(){zl=!1,mt!==null&&Xr(mt)&&(mt=null),vt!==null&&Xr(vt)&&(vt=null),gt!==null&&Xr(gt)&&(gt=null),Zn.forEach(Co),Jn.forEach(Co)}function Tn(e,t){e.blockedOn===t&&(e.blockedOn=null,zl||(zl=!0,Te.unstable_scheduleCallback(Te.unstable_NormalPriority,lf)))}function bn(e){function t(s){return Tn(s,e)}if(0<Er.length){Tn(Er[0],e);for(var n=1;n<Er.length;n++){var r=Er[n];r.blockedOn===e&&(r.blockedOn=null)}}for(mt!==null&&Tn(mt,e),vt!==null&&Tn(vt,e),gt!==null&&Tn(gt,e),Zn.forEach(t),Jn.forEach(t),n=0;n<dt.length;n++)r=dt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&(n=dt[0],n.blockedOn===null);)Au(n),n.blockedOn===null&&dt.shift()}var dn=ot.ReactCurrentBatchConfig,ds=!0;function of(e,t,n,r){var s=V,l=dn.transition;dn.transition=null;try{V=1,Ai(e,t,n,r)}finally{V=s,dn.transition=l}}function af(e,t,n,r){var s=V,l=dn.transition;dn.transition=null;try{V=4,Ai(e,t,n,r)}finally{V=s,dn.transition=l}}function Ai(e,t,n,r){if(ds){var s=Vl(e,t,n,r);if(s===null)al(e,t,r,fs,n),jo(e,r);else if(sf(s,e,t,n,r))r.stopPropagation();else if(jo(e,r),t&4&&-1<rf.indexOf(e)){for(;s!==null;){var l=mr(s);if(l!==null&&Iu(l),l=Vl(e,t,n,r),l===null&&al(e,t,r,fs,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else al(e,t,r,null,n)}}var fs=null;function Vl(e,t,n,r){if(fs=null,e=Ii(r),e=Ft(e),e!==null)if(t=qt(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fs=e,null}function Lu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gd()){case Ti:return 1;case Nu:return 4;case us:case Yd:return 16;case Eu:return 536870912;default:return 16}default:return 16}}var pt=null,Li=null,Zr=null;function _u(){if(Zr)return Zr;var e,t=Li,n=t.length,r,s="value"in pt?pt.value:pt.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[l-r];r++);return Zr=s.slice(e,1<r?1-r:void 0)}function Jr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jr(){return!0}function Io(){return!1}function De(e){function t(n,r,s,l,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(l):l[a]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?jr:Io,this.isPropagationStopped=Io,this}return Y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jr)},persist:function(){},isPersistent:jr}),t}var Nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=De(Nn),hr=Y({},Nn,{view:0,detail:0}),uf=De(hr),bs,el,Rn,Ls=Y({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rn&&(Rn&&e.type==="mousemove"?(bs=e.screenX-Rn.screenX,el=e.screenY-Rn.screenY):el=bs=0,Rn=e),bs)},movementY:function(e){return"movementY"in e?e.movementY:el}}),To=De(Ls),cf=Y({},Ls,{dataTransfer:0}),df=De(cf),ff=Y({},hr,{relatedTarget:0}),tl=De(ff),pf=Y({},Nn,{animationName:0,elapsedTime:0,pseudoElement:0}),hf=De(pf),mf=Y({},Nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vf=De(mf),gf=Y({},Nn,{data:0}),Ro=De(gf),yf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wf[e])?!!t[e]:!1}function Pi(){return Sf}var kf=Y({},hr,{key:function(e){if(e.key){var t=yf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pi,charCode:function(e){return e.type==="keypress"?Jr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nf=De(kf),Ef=Y({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Do=De(Ef),jf=Y({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pi}),Cf=De(jf),If=Y({},Nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tf=De(If),Rf=Y({},Ls,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Df=De(Rf),Af=[9,13,27,32],Fi=rt&&"CompositionEvent"in window,Un=null;rt&&"documentMode"in document&&(Un=document.documentMode);var Lf=rt&&"TextEvent"in window&&!Un,Pu=rt&&(!Fi||Un&&8<Un&&11>=Un),Ao=" ",Lo=!1;function Fu(e,t){switch(e){case"keyup":return Af.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ou(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zt=!1;function _f(e,t){switch(e){case"compositionend":return Ou(t);case"keypress":return t.which!==32?null:(Lo=!0,Ao);case"textInput":return e=t.data,e===Ao&&Lo?null:e;default:return null}}function Pf(e,t){if(Zt)return e==="compositionend"||!Fi&&Fu(e,t)?(e=_u(),Zr=Li=pt=null,Zt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pu&&t.locale!=="ko"?null:t.data;default:return null}}var Ff={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _o(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ff[e.type]:t==="textarea"}function Mu(e,t,n,r){hu(r),t=ps(t,"onChange"),0<t.length&&(n=new _i("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,er=null;function Of(e){Gu(e,0)}function _s(e){var t=en(e);if(ou(t))return e}function Mf(e,t){if(e==="change")return t}var $u=!1;if(rt){var nl;if(rt){var rl="oninput"in document;if(!rl){var Po=document.createElement("div");Po.setAttribute("oninput","return;"),rl=typeof Po.oninput=="function"}nl=rl}else nl=!1;$u=nl&&(!document.documentMode||9<document.documentMode)}function Fo(){Hn&&(Hn.detachEvent("onpropertychange",zu),er=Hn=null)}function zu(e){if(e.propertyName==="value"&&_s(er)){var t=[];Mu(t,er,e,Ii(e)),yu(Of,t)}}function $f(e,t,n){e==="focusin"?(Fo(),Hn=t,er=n,Hn.attachEvent("onpropertychange",zu)):e==="focusout"&&Fo()}function zf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _s(er)}function Vf(e,t){if(e==="click")return _s(t)}function Uf(e,t){if(e==="input"||e==="change")return _s(t)}function Hf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var We=typeof Object.is=="function"?Object.is:Hf;function tr(e,t){if(We(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!kl.call(t,s)||!We(e[s],t[s]))return!1}return!0}function Oo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mo(e,t){var n=Oo(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Oo(n)}}function Vu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uu(){for(var e=window,t=is();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=is(e.document)}return t}function Oi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Bf(e){var t=Uu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Vu(n.ownerDocument.documentElement,n)){if(r!==null&&Oi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!e.extend&&l>r&&(s=r,r=l,l=s),s=Mo(n,l);var i=Mo(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wf=rt&&"documentMode"in document&&11>=document.documentMode,Jt=null,Ul=null,Bn=null,Hl=!1;function $o(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hl||Jt==null||Jt!==is(r)||(r=Jt,"selectionStart"in r&&Oi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bn&&tr(Bn,r)||(Bn=r,r=ps(Ul,"onSelect"),0<r.length&&(t=new _i("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Jt)))}function Cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var bt={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionend:Cr("Transition","TransitionEnd")},sl={},Hu={};rt&&(Hu=document.createElement("div").style,"AnimationEvent"in window||(delete bt.animationend.animation,delete bt.animationiteration.animation,delete bt.animationstart.animation),"TransitionEvent"in window||delete bt.transitionend.transition);function Ps(e){if(sl[e])return sl[e];if(!bt[e])return e;var t=bt[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hu)return sl[e]=t[n];return e}var Bu=Ps("animationend"),Wu=Ps("animationiteration"),Qu=Ps("animationstart"),qu=Ps("transitionend"),Ku=new Map,zo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jt(e,t){Ku.set(e,t),Qt(t,[e])}for(var ll=0;ll<zo.length;ll++){var il=zo[ll],Qf=il.toLowerCase(),qf=il[0].toUpperCase()+il.slice(1);jt(Qf,"on"+qf)}jt(Bu,"onAnimationEnd");jt(Wu,"onAnimationIteration");jt(Qu,"onAnimationStart");jt("dblclick","onDoubleClick");jt("focusin","onFocus");jt("focusout","onBlur");jt(qu,"onTransitionEnd");hn("onMouseEnter",["mouseout","mouseover"]);hn("onMouseLeave",["mouseout","mouseover"]);hn("onPointerEnter",["pointerout","pointerover"]);hn("onPointerLeave",["pointerout","pointerover"]);Qt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qt("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $n="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kf=new Set("cancel close invalid load scroll toggle".split(" ").concat($n));function Vo(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Wd(r,t,void 0,e),e.currentTarget=null}function Gu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==l&&s.isPropagationStopped())break e;Vo(s,a,c),l=u}else for(i=0;i<r.length;i++){if(a=r[i],u=a.instance,c=a.currentTarget,a=a.listener,u!==l&&s.isPropagationStopped())break e;Vo(s,a,c),l=u}}}if(as)throw e=Ml,as=!1,Ml=null,e}function B(e,t){var n=t[Kl];n===void 0&&(n=t[Kl]=new Set);var r=e+"__bubble";n.has(r)||(Yu(t,e,2,!1),n.add(r))}function ol(e,t,n){var r=0;t&&(r|=4),Yu(n,e,r,t)}var Ir="_reactListening"+Math.random().toString(36).slice(2);function nr(e){if(!e[Ir]){e[Ir]=!0,nu.forEach(function(n){n!=="selectionchange"&&(Kf.has(n)||ol(n,!1,e),ol(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ir]||(t[Ir]=!0,ol("selectionchange",!1,t))}}function Yu(e,t,n,r){switch(Lu(t)){case 1:var s=of;break;case 4:s=af;break;default:s=Ai}n=s.bind(null,t,n,e),s=void 0,!Ol||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function al(e,t,n,r,s){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Ft(a),i===null)return;if(u=i.tag,u===5||u===6){r=l=i;continue e}a=a.parentNode}}r=r.return}yu(function(){var c=l,d=Ii(n),v=[];e:{var m=Ku.get(e);if(m!==void 0){var g=_i,y=e;switch(e){case"keypress":if(Jr(n)===0)break e;case"keydown":case"keyup":g=Nf;break;case"focusin":y="focus",g=tl;break;case"focusout":y="blur",g=tl;break;case"beforeblur":case"afterblur":g=tl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=To;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Cf;break;case Bu:case Wu:case Qu:g=hf;break;case qu:g=Tf;break;case"scroll":g=uf;break;case"wheel":g=Df;break;case"copy":case"cut":case"paste":g=vf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Do}var x=(t&4)!==0,R=!x&&e==="scroll",p=x?m!==null?m+"Capture":null:m;x=[];for(var f=c,h;f!==null;){h=f;var S=h.stateNode;if(h.tag===5&&S!==null&&(h=S,p!==null&&(S=Xn(f,p),S!=null&&x.push(rr(f,S,h)))),R)break;f=f.return}0<x.length&&(m=new g(m,y,null,n,d),v.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==Pl&&(y=n.relatedTarget||n.fromElement)&&(Ft(y)||y[st]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=c,y=y?Ft(y):null,y!==null&&(R=qt(y),y!==R||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=c),g!==y)){if(x=To,S="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(x=Do,S="onPointerLeave",p="onPointerEnter",f="pointer"),R=g==null?m:en(g),h=y==null?m:en(y),m=new x(S,f+"leave",g,n,d),m.target=R,m.relatedTarget=h,S=null,Ft(d)===c&&(x=new x(p,f+"enter",y,n,d),x.target=h,x.relatedTarget=R,S=x),R=S,g&&y)t:{for(x=g,p=y,f=0,h=x;h;h=Gt(h))f++;for(h=0,S=p;S;S=Gt(S))h++;for(;0<f-h;)x=Gt(x),f--;for(;0<h-f;)p=Gt(p),h--;for(;f--;){if(x===p||p!==null&&x===p.alternate)break t;x=Gt(x),p=Gt(p)}x=null}else x=null;g!==null&&Uo(v,m,g,x,!1),y!==null&&R!==null&&Uo(v,R,y,x,!0)}}e:{if(m=c?en(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var k=Mf;else if(_o(m))if($u)k=Uf;else{k=zf;var C=$f}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=Vf);if(k&&(k=k(e,c))){Mu(v,k,n,d);break e}C&&C(e,m,c),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&Rl(m,"number",m.value)}switch(C=c?en(c):window,e){case"focusin":(_o(C)||C.contentEditable==="true")&&(Jt=C,Ul=c,Bn=null);break;case"focusout":Bn=Ul=Jt=null;break;case"mousedown":Hl=!0;break;case"contextmenu":case"mouseup":case"dragend":Hl=!1,$o(v,n,d);break;case"selectionchange":if(Wf)break;case"keydown":case"keyup":$o(v,n,d)}var E;if(Fi)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Zt?Fu(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Pu&&n.locale!=="ko"&&(Zt||I!=="onCompositionStart"?I==="onCompositionEnd"&&Zt&&(E=_u()):(pt=d,Li="value"in pt?pt.value:pt.textContent,Zt=!0)),C=ps(c,I),0<C.length&&(I=new Ro(I,e,null,n,d),v.push({event:I,listeners:C}),E?I.data=E:(E=Ou(n),E!==null&&(I.data=E)))),(E=Lf?_f(e,n):Pf(e,n))&&(c=ps(c,"onBeforeInput"),0<c.length&&(d=new Ro("onBeforeInput","beforeinput",null,n,d),v.push({event:d,listeners:c}),d.data=E))}Gu(v,t)})}function rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ps(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Xn(e,n),l!=null&&r.unshift(rr(e,l,s)),l=Xn(e,t),l!=null&&r.push(rr(e,l,s))),e=e.return}return r}function Gt(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uo(e,t,n,r,s){for(var l=t._reactName,i=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=Xn(n,l),u!=null&&i.unshift(rr(n,u,a))):s||(u=Xn(n,l),u!=null&&i.push(rr(n,u,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Gf=/\r\n?/g,Yf=/\u0000|\uFFFD/g;function Ho(e){return(typeof e=="string"?e:""+e).replace(Gf,`
`).replace(Yf,"")}function Tr(e,t,n){if(t=Ho(t),Ho(e)!==t&&n)throw Error(N(425))}function hs(){}var Bl=null,Wl=null;function Ql(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ql=typeof setTimeout=="function"?setTimeout:void 0,Xf=typeof clearTimeout=="function"?clearTimeout:void 0,Bo=typeof Promise=="function"?Promise:void 0,Zf=typeof queueMicrotask=="function"?queueMicrotask:typeof Bo<"u"?function(e){return Bo.resolve(null).then(e).catch(Jf)}:ql;function Jf(e){setTimeout(function(){throw e})}function ul(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),bn(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);bn(t)}function yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var En=Math.random().toString(36).slice(2),Ge="__reactFiber$"+En,sr="__reactProps$"+En,st="__reactContainer$"+En,Kl="__reactEvents$"+En,bf="__reactListeners$"+En,ep="__reactHandles$"+En;function Ft(e){var t=e[Ge];if(t)return t;for(var n=e.parentNode;n;){if(t=n[st]||n[Ge]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wo(e);e!==null;){if(n=e[Ge])return n;e=Wo(e)}return t}e=n,n=e.parentNode}return null}function mr(e){return e=e[Ge]||e[st],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function en(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function Fs(e){return e[sr]||null}var Gl=[],tn=-1;function Ct(e){return{current:e}}function W(e){0>tn||(e.current=Gl[tn],Gl[tn]=null,tn--)}function H(e,t){tn++,Gl[tn]=e.current,e.current=t}var Et={},de=Ct(Et),Se=Ct(!1),Vt=Et;function mn(e,t){var n=e.type.contextTypes;if(!n)return Et;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ke(e){return e=e.childContextTypes,e!=null}function ms(){W(Se),W(de)}function Qo(e,t,n){if(de.current!==Et)throw Error(N(168));H(de,t),H(Se,n)}function Xu(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(N(108,Md(e)||"Unknown",s));return Y({},n,r)}function vs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Et,Vt=de.current,H(de,e),H(Se,Se.current),!0}function qo(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=Xu(e,t,Vt),r.__reactInternalMemoizedMergedChildContext=e,W(Se),W(de),H(de,e)):W(Se),H(Se,n)}var Je=null,Os=!1,cl=!1;function Zu(e){Je===null?Je=[e]:Je.push(e)}function tp(e){Os=!0,Zu(e)}function It(){if(!cl&&Je!==null){cl=!0;var e=0,t=V;try{var n=Je;for(V=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Je=null,Os=!1}catch(s){throw Je!==null&&(Je=Je.slice(e+1)),ku(Ti,It),s}finally{V=t,cl=!1}}return null}var nn=[],rn=0,gs=null,ys=0,Ae=[],Le=0,Ut=null,et=1,tt="";function _t(e,t){nn[rn++]=ys,nn[rn++]=gs,gs=e,ys=t}function Ju(e,t,n){Ae[Le++]=et,Ae[Le++]=tt,Ae[Le++]=Ut,Ut=e;var r=et;e=tt;var s=32-Ue(r)-1;r&=~(1<<s),n+=1;var l=32-Ue(t)+s;if(30<l){var i=s-s%5;l=(r&(1<<i)-1).toString(32),r>>=i,s-=i,et=1<<32-Ue(t)+s|n<<s|r,tt=l+e}else et=1<<l|n<<s|r,tt=e}function Mi(e){e.return!==null&&(_t(e,1),Ju(e,1,0))}function $i(e){for(;e===gs;)gs=nn[--rn],nn[rn]=null,ys=nn[--rn],nn[rn]=null;for(;e===Ut;)Ut=Ae[--Le],Ae[Le]=null,tt=Ae[--Le],Ae[Le]=null,et=Ae[--Le],Ae[Le]=null}var Ie=null,Ce=null,q=!1,Ve=null;function bu(e,t){var n=_e(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ko(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ie=e,Ce=yt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ie=e,Ce=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ut!==null?{id:et,overflow:tt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_e(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ie=e,Ce=null,!0):!1;default:return!1}}function Yl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xl(e){if(q){var t=Ce;if(t){var n=t;if(!Ko(e,t)){if(Yl(e))throw Error(N(418));t=yt(n.nextSibling);var r=Ie;t&&Ko(e,t)?bu(r,n):(e.flags=e.flags&-4097|2,q=!1,Ie=e)}}else{if(Yl(e))throw Error(N(418));e.flags=e.flags&-4097|2,q=!1,Ie=e}}}function Go(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ie=e}function Rr(e){if(e!==Ie)return!1;if(!q)return Go(e),q=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ql(e.type,e.memoizedProps)),t&&(t=Ce)){if(Yl(e))throw ec(),Error(N(418));for(;t;)bu(e,t),t=yt(t.nextSibling)}if(Go(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ce=yt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ce=null}}else Ce=Ie?yt(e.stateNode.nextSibling):null;return!0}function ec(){for(var e=Ce;e;)e=yt(e.nextSibling)}function vn(){Ce=Ie=null,q=!1}function zi(e){Ve===null?Ve=[e]:Ve.push(e)}var np=ot.ReactCurrentBatchConfig;function Dn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var s=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var a=s.refs;i===null?delete a[l]:a[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function Dr(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){var t=e._init;return t(e._payload)}function tc(e){function t(p,f){if(e){var h=p.deletions;h===null?(p.deletions=[f],p.flags|=16):h.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function s(p,f){return p=kt(p,f),p.index=0,p.sibling=null,p}function l(p,f,h){return p.index=h,e?(h=p.alternate,h!==null?(h=h.index,h<f?(p.flags|=2,f):h):(p.flags|=2,f)):(p.flags|=1048576,f)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,f,h,S){return f===null||f.tag!==6?(f=gl(h,p.mode,S),f.return=p,f):(f=s(f,h),f.return=p,f)}function u(p,f,h,S){var k=h.type;return k===Xt?d(p,f,h.props.children,S,h.key):f!==null&&(f.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ut&&Yo(k)===f.type)?(S=s(f,h.props),S.ref=Dn(p,f,h),S.return=p,S):(S=ls(h.type,h.key,h.props,null,p.mode,S),S.ref=Dn(p,f,h),S.return=p,S)}function c(p,f,h,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==h.containerInfo||f.stateNode.implementation!==h.implementation?(f=yl(h,p.mode,S),f.return=p,f):(f=s(f,h.children||[]),f.return=p,f)}function d(p,f,h,S,k){return f===null||f.tag!==7?(f=zt(h,p.mode,S,k),f.return=p,f):(f=s(f,h),f.return=p,f)}function v(p,f,h){if(typeof f=="string"&&f!==""||typeof f=="number")return f=gl(""+f,p.mode,h),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case xr:return h=ls(f.type,f.key,f.props,null,p.mode,h),h.ref=Dn(p,null,f),h.return=p,h;case Yt:return f=yl(f,p.mode,h),f.return=p,f;case ut:var S=f._init;return v(p,S(f._payload),h)}if(On(f)||jn(f))return f=zt(f,p.mode,h,null),f.return=p,f;Dr(p,f)}return null}function m(p,f,h,S){var k=f!==null?f.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return k!==null?null:a(p,f,""+h,S);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case xr:return h.key===k?u(p,f,h,S):null;case Yt:return h.key===k?c(p,f,h,S):null;case ut:return k=h._init,m(p,f,k(h._payload),S)}if(On(h)||jn(h))return k!==null?null:d(p,f,h,S,null);Dr(p,h)}return null}function g(p,f,h,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(h)||null,a(f,p,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case xr:return p=p.get(S.key===null?h:S.key)||null,u(f,p,S,k);case Yt:return p=p.get(S.key===null?h:S.key)||null,c(f,p,S,k);case ut:var C=S._init;return g(p,f,h,C(S._payload),k)}if(On(S)||jn(S))return p=p.get(h)||null,d(f,p,S,k,null);Dr(f,S)}return null}function y(p,f,h,S){for(var k=null,C=null,E=f,I=f=0,z=null;E!==null&&I<h.length;I++){E.index>I?(z=E,E=null):z=E.sibling;var L=m(p,E,h[I],S);if(L===null){E===null&&(E=z);break}e&&E&&L.alternate===null&&t(p,E),f=l(L,f,I),C===null?k=L:C.sibling=L,C=L,E=z}if(I===h.length)return n(p,E),q&&_t(p,I),k;if(E===null){for(;I<h.length;I++)E=v(p,h[I],S),E!==null&&(f=l(E,f,I),C===null?k=E:C.sibling=E,C=E);return q&&_t(p,I),k}for(E=r(p,E);I<h.length;I++)z=g(E,p,I,h[I],S),z!==null&&(e&&z.alternate!==null&&E.delete(z.key===null?I:z.key),f=l(z,f,I),C===null?k=z:C.sibling=z,C=z);return e&&E.forEach(function(b){return t(p,b)}),q&&_t(p,I),k}function x(p,f,h,S){var k=jn(h);if(typeof k!="function")throw Error(N(150));if(h=k.call(h),h==null)throw Error(N(151));for(var C=k=null,E=f,I=f=0,z=null,L=h.next();E!==null&&!L.done;I++,L=h.next()){E.index>I?(z=E,E=null):z=E.sibling;var b=m(p,E,L.value,S);if(b===null){E===null&&(E=z);break}e&&E&&b.alternate===null&&t(p,E),f=l(b,f,I),C===null?k=b:C.sibling=b,C=b,E=z}if(L.done)return n(p,E),q&&_t(p,I),k;if(E===null){for(;!L.done;I++,L=h.next())L=v(p,L.value,S),L!==null&&(f=l(L,f,I),C===null?k=L:C.sibling=L,C=L);return q&&_t(p,I),k}for(E=r(p,E);!L.done;I++,L=h.next())L=g(E,p,I,L.value,S),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?I:L.key),f=l(L,f,I),C===null?k=L:C.sibling=L,C=L);return e&&E.forEach(function(Ee){return t(p,Ee)}),q&&_t(p,I),k}function R(p,f,h,S){if(typeof h=="object"&&h!==null&&h.type===Xt&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case xr:e:{for(var k=h.key,C=f;C!==null;){if(C.key===k){if(k=h.type,k===Xt){if(C.tag===7){n(p,C.sibling),f=s(C,h.props.children),f.return=p,p=f;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ut&&Yo(k)===C.type){n(p,C.sibling),f=s(C,h.props),f.ref=Dn(p,C,h),f.return=p,p=f;break e}n(p,C);break}else t(p,C);C=C.sibling}h.type===Xt?(f=zt(h.props.children,p.mode,S,h.key),f.return=p,p=f):(S=ls(h.type,h.key,h.props,null,p.mode,S),S.ref=Dn(p,f,h),S.return=p,p=S)}return i(p);case Yt:e:{for(C=h.key;f!==null;){if(f.key===C)if(f.tag===4&&f.stateNode.containerInfo===h.containerInfo&&f.stateNode.implementation===h.implementation){n(p,f.sibling),f=s(f,h.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=yl(h,p.mode,S),f.return=p,p=f}return i(p);case ut:return C=h._init,R(p,f,C(h._payload),S)}if(On(h))return y(p,f,h,S);if(jn(h))return x(p,f,h,S);Dr(p,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,f!==null&&f.tag===6?(n(p,f.sibling),f=s(f,h),f.return=p,p=f):(n(p,f),f=gl(h,p.mode,S),f.return=p,p=f),i(p)):n(p,f)}return R}var gn=tc(!0),nc=tc(!1),xs=Ct(null),ws=null,sn=null,Vi=null;function Ui(){Vi=sn=ws=null}function Hi(e){var t=xs.current;W(xs),e._currentValue=t}function Zl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fn(e,t){ws=e,Vi=sn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(we=!0),e.firstContext=null)}function Fe(e){var t=e._currentValue;if(Vi!==e)if(e={context:e,memoizedValue:t,next:null},sn===null){if(ws===null)throw Error(N(308));sn=e,ws.dependencies={lanes:0,firstContext:e}}else sn=sn.next=e;return t}var Ot=null;function Bi(e){Ot===null?Ot=[e]:Ot.push(e)}function rc(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Bi(t)):(n.next=s.next,s.next=n),t.interleaved=n,lt(e,r)}function lt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ct=!1;function Wi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,$&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,lt(e,n)}return s=r.interleaved,s===null?(t.next=t,Bi(r)):(t.next=s.next,s.next=t),r.interleaved=t,lt(e,n)}function br(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ri(e,n)}}function Xo(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=i:l=l.next=i,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ss(e,t,n,r){var s=e.updateQueue;ct=!1;var l=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,i===null?l=c:i.next=c,i=u;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(l!==null){var v=s.baseState;i=0,d=c=u=null,a=l;do{var m=a.lane,g=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,x=a;switch(m=t,g=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){v=y.call(g,v,m);break e}v=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,m=typeof y=="function"?y.call(g,v,m):y,m==null)break e;v=Y({},v,m);break e;case 2:ct=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,u=v):d=d.next=g,i|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(u=v),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);Bt|=i,e.lanes=i,e.memoizedState=v}}function Zo(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var vr={},Xe=Ct(vr),lr=Ct(vr),ir=Ct(vr);function Mt(e){if(e===vr)throw Error(N(174));return e}function Qi(e,t){switch(H(ir,t),H(lr,e),H(Xe,vr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Al(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Al(t,e)}W(Xe),H(Xe,t)}function yn(){W(Xe),W(lr),W(ir)}function lc(e){Mt(ir.current);var t=Mt(Xe.current),n=Al(t,e.type);t!==n&&(H(lr,e),H(Xe,n))}function qi(e){lr.current===e&&(W(Xe),W(lr))}var K=Ct(0);function ks(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dl=[];function Ki(){for(var e=0;e<dl.length;e++)dl[e]._workInProgressVersionPrimary=null;dl.length=0}var es=ot.ReactCurrentDispatcher,fl=ot.ReactCurrentBatchConfig,Ht=0,G=null,te=null,re=null,Ns=!1,Wn=!1,or=0,rp=0;function ae(){throw Error(N(321))}function Gi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!We(e[n],t[n]))return!1;return!0}function Yi(e,t,n,r,s,l){if(Ht=l,G=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,es.current=e===null||e.memoizedState===null?op:ap,e=n(r,s),Wn){l=0;do{if(Wn=!1,or=0,25<=l)throw Error(N(301));l+=1,re=te=null,t.updateQueue=null,es.current=up,e=n(r,s)}while(Wn)}if(es.current=Es,t=te!==null&&te.next!==null,Ht=0,re=te=G=null,Ns=!1,t)throw Error(N(300));return e}function Xi(){var e=or!==0;return or=0,e}function Ke(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return re===null?G.memoizedState=re=e:re=re.next=e,re}function Oe(){if(te===null){var e=G.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var t=re===null?G.memoizedState:re.next;if(t!==null)re=t,te=e;else{if(e===null)throw Error(N(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},re===null?G.memoizedState=re=e:re=re.next=e}return re}function ar(e,t){return typeof t=="function"?t(e):t}function pl(e){var t=Oe(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=te,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var i=s.next;s.next=l.next,l.next=i}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var a=i=null,u=null,c=l;do{var d=c.lane;if((Ht&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var v={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=v,i=r):u=u.next=v,G.lanes|=d,Bt|=d}c=c.next}while(c!==null&&c!==l);u===null?i=r:u.next=a,We(r,t.memoizedState)||(we=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do l=s.lane,G.lanes|=l,Bt|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function hl(e){var t=Oe(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do l=e(l,i.action),i=i.next;while(i!==s);We(l,t.memoizedState)||(we=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function ic(){}function oc(e,t){var n=G,r=Oe(),s=t(),l=!We(r.memoizedState,s);if(l&&(r.memoizedState=s,we=!0),r=r.queue,Zi(cc.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||re!==null&&re.memoizedState.tag&1){if(n.flags|=2048,ur(9,uc.bind(null,n,r,s,t),void 0,null),se===null)throw Error(N(349));Ht&30||ac(n,t,s)}return s}function ac(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=G.updateQueue,t===null?(t={lastEffect:null,stores:null},G.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function uc(e,t,n,r){t.value=n,t.getSnapshot=r,dc(t)&&fc(e)}function cc(e,t,n){return n(function(){dc(t)&&fc(e)})}function dc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!We(e,n)}catch{return!0}}function fc(e){var t=lt(e,1);t!==null&&He(t,e,1,-1)}function Jo(e){var t=Ke();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:e},t.queue=e,e=e.dispatch=ip.bind(null,G,e),[t.memoizedState,e]}function ur(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=G.updateQueue,t===null?(t={lastEffect:null,stores:null},G.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function pc(){return Oe().memoizedState}function ts(e,t,n,r){var s=Ke();G.flags|=e,s.memoizedState=ur(1|t,n,void 0,r===void 0?null:r)}function Ms(e,t,n,r){var s=Oe();r=r===void 0?null:r;var l=void 0;if(te!==null){var i=te.memoizedState;if(l=i.destroy,r!==null&&Gi(r,i.deps)){s.memoizedState=ur(t,n,l,r);return}}G.flags|=e,s.memoizedState=ur(1|t,n,l,r)}function bo(e,t){return ts(8390656,8,e,t)}function Zi(e,t){return Ms(2048,8,e,t)}function hc(e,t){return Ms(4,2,e,t)}function mc(e,t){return Ms(4,4,e,t)}function vc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gc(e,t,n){return n=n!=null?n.concat([e]):null,Ms(4,4,vc.bind(null,t,e),n)}function Ji(){}function yc(e,t){var n=Oe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xc(e,t){var n=Oe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function wc(e,t,n){return Ht&21?(We(n,t)||(n=ju(),G.lanes|=n,Bt|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,we=!0),e.memoizedState=n)}function sp(e,t){var n=V;V=n!==0&&4>n?n:4,e(!0);var r=fl.transition;fl.transition={};try{e(!1),t()}finally{V=n,fl.transition=r}}function Sc(){return Oe().memoizedState}function lp(e,t,n){var r=St(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kc(e))Nc(t,n);else if(n=rc(e,t,n,r),n!==null){var s=me();He(n,e,r,s),Ec(n,t,r)}}function ip(e,t,n){var r=St(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kc(e))Nc(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,a=l(i,n);if(s.hasEagerState=!0,s.eagerState=a,We(a,i)){var u=t.interleaved;u===null?(s.next=s,Bi(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=rc(e,t,s,r),n!==null&&(s=me(),He(n,e,r,s),Ec(n,t,r))}}function kc(e){var t=e.alternate;return e===G||t!==null&&t===G}function Nc(e,t){Wn=Ns=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ec(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ri(e,n)}}var Es={readContext:Fe,useCallback:ae,useContext:ae,useEffect:ae,useImperativeHandle:ae,useInsertionEffect:ae,useLayoutEffect:ae,useMemo:ae,useReducer:ae,useRef:ae,useState:ae,useDebugValue:ae,useDeferredValue:ae,useTransition:ae,useMutableSource:ae,useSyncExternalStore:ae,useId:ae,unstable_isNewReconciler:!1},op={readContext:Fe,useCallback:function(e,t){return Ke().memoizedState=[e,t===void 0?null:t],e},useContext:Fe,useEffect:bo,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ts(4194308,4,vc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ts(4194308,4,e,t)},useInsertionEffect:function(e,t){return ts(4,2,e,t)},useMemo:function(e,t){var n=Ke();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ke();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=lp.bind(null,G,e),[r.memoizedState,e]},useRef:function(e){var t=Ke();return e={current:e},t.memoizedState=e},useState:Jo,useDebugValue:Ji,useDeferredValue:function(e){return Ke().memoizedState=e},useTransition:function(){var e=Jo(!1),t=e[0];return e=sp.bind(null,e[1]),Ke().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=G,s=Ke();if(q){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),se===null)throw Error(N(349));Ht&30||ac(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,bo(cc.bind(null,r,l,e),[e]),r.flags|=2048,ur(9,uc.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Ke(),t=se.identifierPrefix;if(q){var n=tt,r=et;n=(r&~(1<<32-Ue(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=or++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=rp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ap={readContext:Fe,useCallback:yc,useContext:Fe,useEffect:Zi,useImperativeHandle:gc,useInsertionEffect:hc,useLayoutEffect:mc,useMemo:xc,useReducer:pl,useRef:pc,useState:function(){return pl(ar)},useDebugValue:Ji,useDeferredValue:function(e){var t=Oe();return wc(t,te.memoizedState,e)},useTransition:function(){var e=pl(ar)[0],t=Oe().memoizedState;return[e,t]},useMutableSource:ic,useSyncExternalStore:oc,useId:Sc,unstable_isNewReconciler:!1},up={readContext:Fe,useCallback:yc,useContext:Fe,useEffect:Zi,useImperativeHandle:gc,useInsertionEffect:hc,useLayoutEffect:mc,useMemo:xc,useReducer:hl,useRef:pc,useState:function(){return hl(ar)},useDebugValue:Ji,useDeferredValue:function(e){var t=Oe();return te===null?t.memoizedState=e:wc(t,te.memoizedState,e)},useTransition:function(){var e=hl(ar)[0],t=Oe().memoizedState;return[e,t]},useMutableSource:ic,useSyncExternalStore:oc,useId:Sc,unstable_isNewReconciler:!1};function $e(e,t){if(e&&e.defaultProps){t=Y({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Jl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $s={isMounted:function(e){return(e=e._reactInternals)?qt(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=me(),s=St(e),l=nt(r,s);l.payload=t,n!=null&&(l.callback=n),t=xt(e,l,s),t!==null&&(He(t,e,s,r),br(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=me(),s=St(e),l=nt(r,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=xt(e,l,s),t!==null&&(He(t,e,s,r),br(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=me(),r=St(e),s=nt(n,r);s.tag=2,t!=null&&(s.callback=t),t=xt(e,s,r),t!==null&&(He(t,e,r,n),br(t,e,r))}};function ea(e,t,n,r,s,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,i):t.prototype&&t.prototype.isPureReactComponent?!tr(n,r)||!tr(s,l):!0}function jc(e,t,n){var r=!1,s=Et,l=t.contextType;return typeof l=="object"&&l!==null?l=Fe(l):(s=ke(t)?Vt:de.current,r=t.contextTypes,l=(r=r!=null)?mn(e,s):Et),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$s,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function ta(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$s.enqueueReplaceState(t,t.state,null)}function bl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Wi(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Fe(l):(l=ke(t)?Vt:de.current,s.context=mn(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Jl(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&$s.enqueueReplaceState(s,s.state,null),Ss(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function xn(e,t){try{var n="",r=t;do n+=Od(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function ml(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ei(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var cp=typeof WeakMap=="function"?WeakMap:Map;function Cc(e,t,n){n=nt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Cs||(Cs=!0,ci=r),ei(e,t)},n}function Ic(e,t,n){n=nt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ei(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){ei(e,t),typeof r!="function"&&(wt===null?wt=new Set([this]):wt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function na(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new cp;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Ep.bind(null,e,t,n),t.then(e,e))}function ra(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function sa(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=nt(-1,1),t.tag=2,xt(n,t,1))),n.lanes|=1),e)}var dp=ot.ReactCurrentOwner,we=!1;function pe(e,t,n,r){t.child=e===null?nc(t,null,n,r):gn(t,e.child,n,r)}function la(e,t,n,r,s){n=n.render;var l=t.ref;return fn(t,s),r=Yi(e,t,n,r,l,s),n=Xi(),e!==null&&!we?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,it(e,t,s)):(q&&n&&Mi(t),t.flags|=1,pe(e,t,r,s),t.child)}function ia(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!io(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Tc(e,t,l,r,s)):(e=ls(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var i=l.memoizedProps;if(n=n.compare,n=n!==null?n:tr,n(i,r)&&e.ref===t.ref)return it(e,t,s)}return t.flags|=1,e=kt(l,r),e.ref=t.ref,e.return=t,t.child=e}function Tc(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if(tr(l,r)&&e.ref===t.ref)if(we=!1,t.pendingProps=r=l,(e.lanes&s)!==0)e.flags&131072&&(we=!0);else return t.lanes=e.lanes,it(e,t,s)}return ti(e,t,n,r,s)}function Rc(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(on,je),je|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,H(on,je),je|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,H(on,je),je|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,H(on,je),je|=r;return pe(e,t,s,n),t.child}function Dc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ti(e,t,n,r,s){var l=ke(n)?Vt:de.current;return l=mn(t,l),fn(t,s),n=Yi(e,t,n,r,l,s),r=Xi(),e!==null&&!we?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,it(e,t,s)):(q&&r&&Mi(t),t.flags|=1,pe(e,t,n,s),t.child)}function oa(e,t,n,r,s){if(ke(n)){var l=!0;vs(t)}else l=!1;if(fn(t,s),t.stateNode===null)ns(e,t),jc(t,n,r),bl(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var u=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Fe(c):(c=ke(n)?Vt:de.current,c=mn(t,c));var d=n.getDerivedStateFromProps,v=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";v||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||u!==c)&&ta(t,i,r,c),ct=!1;var m=t.memoizedState;i.state=m,Ss(t,r,i,s),u=t.memoizedState,a!==r||m!==u||Se.current||ct?(typeof d=="function"&&(Jl(t,n,d,r),u=t.memoizedState),(a=ct||ea(t,n,a,r,m,u,c))?(v||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,sc(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:$e(t.type,a),i.props=c,v=t.pendingProps,m=i.context,u=n.contextType,typeof u=="object"&&u!==null?u=Fe(u):(u=ke(n)?Vt:de.current,u=mn(t,u));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==v||m!==u)&&ta(t,i,r,u),ct=!1,m=t.memoizedState,i.state=m,Ss(t,r,i,s);var y=t.memoizedState;a!==v||m!==y||Se.current||ct?(typeof g=="function"&&(Jl(t,n,g,r),y=t.memoizedState),(c=ct||ea(t,n,c,r,m,y,u)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=u,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return ni(e,t,n,r,l,s)}function ni(e,t,n,r,s,l){Dc(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&qo(t,n,!1),it(e,t,l);r=t.stateNode,dp.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=gn(t,e.child,null,l),t.child=gn(t,null,a,l)):pe(e,t,a,l),t.memoizedState=r.state,s&&qo(t,n,!0),t.child}function Ac(e){var t=e.stateNode;t.pendingContext?Qo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qo(e,t.context,!1),Qi(e,t.containerInfo)}function aa(e,t,n,r,s){return vn(),zi(s),t.flags|=256,pe(e,t,n,r),t.child}var ri={dehydrated:null,treeContext:null,retryLane:0};function si(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lc(e,t,n){var r=t.pendingProps,s=K.current,l=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),H(K,s&1),e===null)return Xl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,l?(r=t.mode,l=t.child,i={mode:"hidden",children:i},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=Us(i,r,0,null),e=zt(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=si(n),t.memoizedState=ri,e):bi(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return fp(e,t,i,r,a,s,n);if(l){l=r.fallback,i=t.mode,s=e.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=kt(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?l=kt(a,l):(l=zt(l,i,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,i=e.child.memoizedState,i=i===null?si(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~n,t.memoizedState=ri,r}return l=e.child,e=l.sibling,r=kt(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function bi(e,t){return t=Us({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ar(e,t,n,r){return r!==null&&zi(r),gn(t,e.child,null,n),e=bi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fp(e,t,n,r,s,l,i){if(n)return t.flags&256?(t.flags&=-257,r=ml(Error(N(422))),Ar(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=Us({mode:"visible",children:r.children},s,0,null),l=zt(l,s,i,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&gn(t,e.child,null,i),t.child.memoizedState=si(i),t.memoizedState=ri,l);if(!(t.mode&1))return Ar(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,l=Error(N(419)),r=ml(l,r,void 0),Ar(e,t,i,r)}if(a=(i&e.childLanes)!==0,we||a){if(r=se,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,lt(e,s),He(r,e,s,-1))}return lo(),r=ml(Error(N(421))),Ar(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=jp.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,Ce=yt(s.nextSibling),Ie=t,q=!0,Ve=null,e!==null&&(Ae[Le++]=et,Ae[Le++]=tt,Ae[Le++]=Ut,et=e.id,tt=e.overflow,Ut=t),t=bi(t,r.children),t.flags|=4096,t)}function ua(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Zl(e.return,t,n)}function vl(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function _c(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if(pe(e,t,r.children,n),r=K.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ua(e,n,t);else if(e.tag===19)ua(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(H(K,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ks(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),vl(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ks(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}vl(t,!0,n,null,l);break;case"together":vl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ns(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function it(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Bt|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=kt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=kt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pp(e,t,n){switch(t.tag){case 3:Ac(t),vn();break;case 5:lc(t);break;case 1:ke(t.type)&&vs(t);break;case 4:Qi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;H(xs,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(H(K,K.current&1),t.flags|=128,null):n&t.child.childLanes?Lc(e,t,n):(H(K,K.current&1),e=it(e,t,n),e!==null?e.sibling:null);H(K,K.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return _c(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),H(K,K.current),r)break;return null;case 22:case 23:return t.lanes=0,Rc(e,t,n)}return it(e,t,n)}var Pc,li,Fc,Oc;Pc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};li=function(){};Fc=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Mt(Xe.current);var l=null;switch(n){case"input":s=Il(e,s),r=Il(e,r),l=[];break;case"select":s=Y({},s,{value:void 0}),r=Y({},r,{value:void 0}),l=[];break;case"textarea":s=Dl(e,s),r=Dl(e,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=hs)}Ll(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Gn.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&a[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(l||(l=[]),l.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(l=l||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(l=l||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Gn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&B("scroll",e),l||a===u||(l=[])):(l=l||[]).push(c,u))}n&&(l=l||[]).push("style",n);var c=l;(t.updateQueue=c)&&(t.flags|=4)}};Oc=function(e,t,n,r){n!==r&&(t.flags|=4)};function An(e,t){if(!q)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hp(e,t,n){var r=t.pendingProps;switch($i(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(t),null;case 1:return ke(t.type)&&ms(),ue(t),null;case 3:return r=t.stateNode,yn(),W(Se),W(de),Ki(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Rr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ve!==null&&(pi(Ve),Ve=null))),li(e,t),ue(t),null;case 5:qi(t);var s=Mt(ir.current);if(n=t.type,e!==null&&t.stateNode!=null)Fc(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return ue(t),null}if(e=Mt(Xe.current),Rr(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Ge]=t,r[sr]=l,e=(t.mode&1)!==0,n){case"dialog":B("cancel",r),B("close",r);break;case"iframe":case"object":case"embed":B("load",r);break;case"video":case"audio":for(s=0;s<$n.length;s++)B($n[s],r);break;case"source":B("error",r);break;case"img":case"image":case"link":B("error",r),B("load",r);break;case"details":B("toggle",r);break;case"input":yo(r,l),B("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},B("invalid",r);break;case"textarea":wo(r,l),B("invalid",r)}Ll(n,l),s=null;for(var i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="children"?typeof a=="string"?r.textContent!==a&&(l.suppressHydrationWarning!==!0&&Tr(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(l.suppressHydrationWarning!==!0&&Tr(r.textContent,a,e),s=["children",""+a]):Gn.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&B("scroll",r)}switch(n){case"input":wr(r),xo(r,l,!0);break;case"textarea":wr(r),So(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=hs)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Ge]=t,e[sr]=r,Pc(e,t,!1,!1),t.stateNode=e;e:{switch(i=_l(n,r),n){case"dialog":B("cancel",e),B("close",e),s=r;break;case"iframe":case"object":case"embed":B("load",e),s=r;break;case"video":case"audio":for(s=0;s<$n.length;s++)B($n[s],e);s=r;break;case"source":B("error",e),s=r;break;case"img":case"image":case"link":B("error",e),B("load",e),s=r;break;case"details":B("toggle",e),s=r;break;case"input":yo(e,r),s=Il(e,r),B("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Y({},r,{value:void 0}),B("invalid",e);break;case"textarea":wo(e,r),s=Dl(e,r),B("invalid",e);break;default:s=r}Ll(n,s),a=s;for(l in a)if(a.hasOwnProperty(l)){var u=a[l];l==="style"?pu(e,u):l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&du(e,u)):l==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Yn(e,u):typeof u=="number"&&Yn(e,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Gn.hasOwnProperty(l)?u!=null&&l==="onScroll"&&B("scroll",e):u!=null&&Ni(e,l,u,i))}switch(n){case"input":wr(e),xo(e,r,!1);break;case"textarea":wr(e),So(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Nt(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?an(e,!!r.multiple,l,!1):r.defaultValue!=null&&an(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=hs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ue(t),null;case 6:if(e&&t.stateNode!=null)Oc(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=Mt(ir.current),Mt(Xe.current),Rr(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ge]=t,(l=r.nodeValue!==n)&&(e=Ie,e!==null))switch(e.tag){case 3:Tr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Tr(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ge]=t,t.stateNode=r}return ue(t),null;case 13:if(W(K),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(q&&Ce!==null&&t.mode&1&&!(t.flags&128))ec(),vn(),t.flags|=98560,l=!1;else if(l=Rr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(N(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(N(317));l[Ge]=t}else vn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ue(t),l=!1}else Ve!==null&&(pi(Ve),Ve=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||K.current&1?ne===0&&(ne=3):lo())),t.updateQueue!==null&&(t.flags|=4),ue(t),null);case 4:return yn(),li(e,t),e===null&&nr(t.stateNode.containerInfo),ue(t),null;case 10:return Hi(t.type._context),ue(t),null;case 17:return ke(t.type)&&ms(),ue(t),null;case 19:if(W(K),l=t.memoizedState,l===null)return ue(t),null;if(r=(t.flags&128)!==0,i=l.rendering,i===null)if(r)An(l,!1);else{if(ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ks(e),i!==null){for(t.flags|=128,An(l,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return H(K,K.current&1|2),t.child}e=e.sibling}l.tail!==null&&Z()>wn&&(t.flags|=128,r=!0,An(l,!1),t.lanes=4194304)}else{if(!r)if(e=ks(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),An(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!q)return ue(t),null}else 2*Z()-l.renderingStartTime>wn&&n!==1073741824&&(t.flags|=128,r=!0,An(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(n=l.last,n!==null?n.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Z(),t.sibling=null,n=K.current,H(K,r?n&1|2:n&1),t):(ue(t),null);case 22:case 23:return so(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?je&1073741824&&(ue(t),t.subtreeFlags&6&&(t.flags|=8192)):ue(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function mp(e,t){switch($i(t),t.tag){case 1:return ke(t.type)&&ms(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yn(),W(Se),W(de),Ki(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qi(t),null;case 13:if(W(K),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));vn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return W(K),null;case 4:return yn(),null;case 10:return Hi(t.type._context),null;case 22:case 23:return so(),null;case 24:return null;default:return null}}var Lr=!1,ce=!1,vp=typeof WeakSet=="function"?WeakSet:Set,D=null;function ln(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){X(e,t,r)}else n.current=null}function ii(e,t,n){try{n()}catch(r){X(e,t,r)}}var ca=!1;function gp(e,t){if(Bl=ds,e=Uu(),Oi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var i=0,a=-1,u=-1,c=0,d=0,v=e,m=null;t:for(;;){for(var g;v!==n||s!==0&&v.nodeType!==3||(a=i+s),v!==l||r!==0&&v.nodeType!==3||(u=i+r),v.nodeType===3&&(i+=v.nodeValue.length),(g=v.firstChild)!==null;)m=v,v=g;for(;;){if(v===e)break t;if(m===n&&++c===s&&(a=i),m===l&&++d===r&&(u=i),(g=v.nextSibling)!==null)break;v=m,m=v.parentNode}v=g}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wl={focusedElem:e,selectionRange:n},ds=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,R=y.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:$e(t.type,x),R);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(S){X(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return y=ca,ca=!1,y}function Qn(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&ii(t,n,l)}s=s.next}while(s!==r)}}function zs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Mc(e){var t=e.alternate;t!==null&&(e.alternate=null,Mc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ge],delete t[sr],delete t[Kl],delete t[bf],delete t[ep])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $c(e){return e.tag===5||e.tag===3||e.tag===4}function da(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$c(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ai(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hs));else if(r!==4&&(e=e.child,e!==null))for(ai(e,t,n),e=e.sibling;e!==null;)ai(e,t,n),e=e.sibling}function ui(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ui(e,t,n),e=e.sibling;e!==null;)ui(e,t,n),e=e.sibling}var le=null,ze=!1;function at(e,t,n){for(n=n.child;n!==null;)zc(e,t,n),n=n.sibling}function zc(e,t,n){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(As,n)}catch{}switch(n.tag){case 5:ce||ln(n,t);case 6:var r=le,s=ze;le=null,at(e,t,n),le=r,ze=s,le!==null&&(ze?(e=le,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):le.removeChild(n.stateNode));break;case 18:le!==null&&(ze?(e=le,n=n.stateNode,e.nodeType===8?ul(e.parentNode,n):e.nodeType===1&&ul(e,n),bn(e)):ul(le,n.stateNode));break;case 4:r=le,s=ze,le=n.stateNode.containerInfo,ze=!0,at(e,t,n),le=r,ze=s;break;case 0:case 11:case 14:case 15:if(!ce&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&ii(n,t,i),s=s.next}while(s!==r)}at(e,t,n);break;case 1:if(!ce&&(ln(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){X(n,t,a)}at(e,t,n);break;case 21:at(e,t,n);break;case 22:n.mode&1?(ce=(r=ce)||n.memoizedState!==null,at(e,t,n),ce=r):at(e,t,n);break;default:at(e,t,n)}}function fa(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vp),t.forEach(function(r){var s=Cp.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Me(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:le=a.stateNode,ze=!1;break e;case 3:le=a.stateNode.containerInfo,ze=!0;break e;case 4:le=a.stateNode.containerInfo,ze=!0;break e}a=a.return}if(le===null)throw Error(N(160));zc(l,i,s),le=null,ze=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){X(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Vc(t,e),t=t.sibling}function Vc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Me(t,e),qe(e),r&4){try{Qn(3,e,e.return),zs(3,e)}catch(x){X(e,e.return,x)}try{Qn(5,e,e.return)}catch(x){X(e,e.return,x)}}break;case 1:Me(t,e),qe(e),r&512&&n!==null&&ln(n,n.return);break;case 5:if(Me(t,e),qe(e),r&512&&n!==null&&ln(n,n.return),e.flags&32){var s=e.stateNode;try{Yn(s,"")}catch(x){X(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,i=n!==null?n.memoizedProps:l,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&l.type==="radio"&&l.name!=null&&au(s,l),_l(a,i);var c=_l(a,l);for(i=0;i<u.length;i+=2){var d=u[i],v=u[i+1];d==="style"?pu(s,v):d==="dangerouslySetInnerHTML"?du(s,v):d==="children"?Yn(s,v):Ni(s,d,v,c)}switch(a){case"input":Tl(s,l);break;case"textarea":uu(s,l);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var g=l.value;g!=null?an(s,!!l.multiple,g,!1):m!==!!l.multiple&&(l.defaultValue!=null?an(s,!!l.multiple,l.defaultValue,!0):an(s,!!l.multiple,l.multiple?[]:"",!1))}s[sr]=l}catch(x){X(e,e.return,x)}}break;case 6:if(Me(t,e),qe(e),r&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(x){X(e,e.return,x)}}break;case 3:if(Me(t,e),qe(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{bn(t.containerInfo)}catch(x){X(e,e.return,x)}break;case 4:Me(t,e),qe(e);break;case 13:Me(t,e),qe(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(no=Z())),r&4&&fa(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ce=(c=ce)||d,Me(t,e),ce=c):Me(t,e),qe(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(D=e,d=e.child;d!==null;){for(v=D=d;D!==null;){switch(m=D,g=m.child,m.tag){case 0:case 11:case 14:case 15:Qn(4,m,m.return);break;case 1:ln(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){X(r,n,x)}}break;case 5:ln(m,m.return);break;case 22:if(m.memoizedState!==null){ha(v);continue}}g!==null?(g.return=m,D=g):ha(v)}d=d.sibling}e:for(d=null,v=e;;){if(v.tag===5){if(d===null){d=v;try{s=v.stateNode,c?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(a=v.stateNode,u=v.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=fu("display",i))}catch(x){X(e,e.return,x)}}}else if(v.tag===6){if(d===null)try{v.stateNode.nodeValue=c?"":v.memoizedProps}catch(x){X(e,e.return,x)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;d===v&&(d=null),v=v.return}d===v&&(d=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Me(t,e),qe(e),r&4&&fa(e);break;case 21:break;default:Me(t,e),qe(e)}}function qe(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if($c(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Yn(s,""),r.flags&=-33);var l=da(e);ui(e,l,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=da(e);ai(e,a,i);break;default:throw Error(N(161))}}catch(u){X(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yp(e,t,n){D=e,Uc(e)}function Uc(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var s=D,l=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Lr;if(!i){var a=s.alternate,u=a!==null&&a.memoizedState!==null||ce;a=Lr;var c=ce;if(Lr=i,(ce=u)&&!c)for(D=s;D!==null;)i=D,u=i.child,i.tag===22&&i.memoizedState!==null?ma(s):u!==null?(u.return=i,D=u):ma(s);for(;l!==null;)D=l,Uc(l),l=l.sibling;D=s,Lr=a,ce=c}pa(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,D=l):pa(e)}}function pa(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ce||zs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ce)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:$e(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Zo(t,l,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Zo(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var v=d.dehydrated;v!==null&&bn(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}ce||t.flags&512&&oi(t)}catch(m){X(t,t.return,m)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function ha(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function ma(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{zs(4,t)}catch(u){X(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){X(t,s,u)}}var l=t.return;try{oi(t)}catch(u){X(t,l,u)}break;case 5:var i=t.return;try{oi(t)}catch(u){X(t,i,u)}}}catch(u){X(t,t.return,u)}if(t===e){D=null;break}var a=t.sibling;if(a!==null){a.return=t.return,D=a;break}D=t.return}}var xp=Math.ceil,js=ot.ReactCurrentDispatcher,eo=ot.ReactCurrentOwner,Pe=ot.ReactCurrentBatchConfig,$=0,se=null,ee=null,ie=0,je=0,on=Ct(0),ne=0,cr=null,Bt=0,Vs=0,to=0,qn=null,xe=null,no=0,wn=1/0,Ze=null,Cs=!1,ci=null,wt=null,_r=!1,ht=null,Is=0,Kn=0,di=null,rs=-1,ss=0;function me(){return $&6?Z():rs!==-1?rs:rs=Z()}function St(e){return e.mode&1?$&2&&ie!==0?ie&-ie:np.transition!==null?(ss===0&&(ss=ju()),ss):(e=V,e!==0||(e=window.event,e=e===void 0?16:Lu(e.type)),e):1}function He(e,t,n,r){if(50<Kn)throw Kn=0,di=null,Error(N(185));pr(e,n,r),(!($&2)||e!==se)&&(e===se&&(!($&2)&&(Vs|=n),ne===4&&ft(e,ie)),Ne(e,r),n===1&&$===0&&!(t.mode&1)&&(wn=Z()+500,Os&&It()))}function Ne(e,t){var n=e.callbackNode;tf(e,t);var r=cs(e,e===se?ie:0);if(r===0)n!==null&&Eo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Eo(n),t===1)e.tag===0?tp(va.bind(null,e)):Zu(va.bind(null,e)),Zf(function(){!($&6)&&It()}),n=null;else{switch(Cu(r)){case 1:n=Ti;break;case 4:n=Nu;break;case 16:n=us;break;case 536870912:n=Eu;break;default:n=us}n=Yc(n,Hc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hc(e,t){if(rs=-1,ss=0,$&6)throw Error(N(327));var n=e.callbackNode;if(pn()&&e.callbackNode!==n)return null;var r=cs(e,e===se?ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ts(e,r);else{t=r;var s=$;$|=2;var l=Wc();(se!==e||ie!==t)&&(Ze=null,wn=Z()+500,$t(e,t));do try{kp();break}catch(a){Bc(e,a)}while(!0);Ui(),js.current=l,$=s,ee!==null?t=0:(se=null,ie=0,t=ne)}if(t!==0){if(t===2&&(s=$l(e),s!==0&&(r=s,t=fi(e,s))),t===1)throw n=cr,$t(e,0),ft(e,r),Ne(e,Z()),n;if(t===6)ft(e,r);else{if(s=e.current.alternate,!(r&30)&&!wp(s)&&(t=Ts(e,r),t===2&&(l=$l(e),l!==0&&(r=l,t=fi(e,l))),t===1))throw n=cr,$t(e,0),ft(e,r),Ne(e,Z()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:Pt(e,xe,Ze);break;case 3:if(ft(e,r),(r&130023424)===r&&(t=no+500-Z(),10<t)){if(cs(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){me(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ql(Pt.bind(null,e,xe,Ze),t);break}Pt(e,xe,Ze);break;case 4:if(ft(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Ue(r);l=1<<i,i=t[i],i>s&&(s=i),r&=~l}if(r=s,r=Z()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xp(r/1960))-r,10<r){e.timeoutHandle=ql(Pt.bind(null,e,xe,Ze),r);break}Pt(e,xe,Ze);break;case 5:Pt(e,xe,Ze);break;default:throw Error(N(329))}}}return Ne(e,Z()),e.callbackNode===n?Hc.bind(null,e):null}function fi(e,t){var n=qn;return e.current.memoizedState.isDehydrated&&($t(e,t).flags|=256),e=Ts(e,t),e!==2&&(t=xe,xe=n,t!==null&&pi(t)),e}function pi(e){xe===null?xe=e:xe.push.apply(xe,e)}function wp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!We(l(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ft(e,t){for(t&=~to,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ue(t),r=1<<n;e[n]=-1,t&=~r}}function va(e){if($&6)throw Error(N(327));pn();var t=cs(e,0);if(!(t&1))return Ne(e,Z()),null;var n=Ts(e,t);if(e.tag!==0&&n===2){var r=$l(e);r!==0&&(t=r,n=fi(e,r))}if(n===1)throw n=cr,$t(e,0),ft(e,t),Ne(e,Z()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pt(e,xe,Ze),Ne(e,Z()),null}function ro(e,t){var n=$;$|=1;try{return e(t)}finally{$=n,$===0&&(wn=Z()+500,Os&&It())}}function Wt(e){ht!==null&&ht.tag===0&&!($&6)&&pn();var t=$;$|=1;var n=Pe.transition,r=V;try{if(Pe.transition=null,V=1,e)return e()}finally{V=r,Pe.transition=n,$=t,!($&6)&&It()}}function so(){je=on.current,W(on)}function $t(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Xf(n)),ee!==null)for(n=ee.return;n!==null;){var r=n;switch($i(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ms();break;case 3:yn(),W(Se),W(de),Ki();break;case 5:qi(r);break;case 4:yn();break;case 13:W(K);break;case 19:W(K);break;case 10:Hi(r.type._context);break;case 22:case 23:so()}n=n.return}if(se=e,ee=e=kt(e.current,null),ie=je=t,ne=0,cr=null,to=Vs=Bt=0,xe=qn=null,Ot!==null){for(t=0;t<Ot.length;t++)if(n=Ot[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var i=l.next;l.next=s,r.next=i}n.pending=r}Ot=null}return e}function Bc(e,t){do{var n=ee;try{if(Ui(),es.current=Es,Ns){for(var r=G.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ns=!1}if(Ht=0,re=te=G=null,Wn=!1,or=0,eo.current=null,n===null||n.return===null){ne=1,cr=t,ee=null;break}e:{var l=e,i=n.return,a=n,u=t;if(t=ie,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,v=d.tag;if(!(d.mode&1)&&(v===0||v===11||v===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=ra(i);if(g!==null){g.flags&=-257,sa(g,i,a,l,t),g.mode&1&&na(l,c,t),t=g,u=c;var y=t.updateQueue;if(y===null){var x=new Set;x.add(u),t.updateQueue=x}else y.add(u);break e}else{if(!(t&1)){na(l,c,t),lo();break e}u=Error(N(426))}}else if(q&&a.mode&1){var R=ra(i);if(R!==null){!(R.flags&65536)&&(R.flags|=256),sa(R,i,a,l,t),zi(xn(u,a));break e}}l=u=xn(u,a),ne!==4&&(ne=2),qn===null?qn=[l]:qn.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var p=Cc(l,u,t);Xo(l,p);break e;case 1:a=u;var f=l.type,h=l.stateNode;if(!(l.flags&128)&&(typeof f.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(wt===null||!wt.has(h)))){l.flags|=65536,t&=-t,l.lanes|=t;var S=Ic(l,a,t);Xo(l,S);break e}}l=l.return}while(l!==null)}qc(n)}catch(k){t=k,ee===n&&n!==null&&(ee=n=n.return);continue}break}while(!0)}function Wc(){var e=js.current;return js.current=Es,e===null?Es:e}function lo(){(ne===0||ne===3||ne===2)&&(ne=4),se===null||!(Bt&268435455)&&!(Vs&268435455)||ft(se,ie)}function Ts(e,t){var n=$;$|=2;var r=Wc();(se!==e||ie!==t)&&(Ze=null,$t(e,t));do try{Sp();break}catch(s){Bc(e,s)}while(!0);if(Ui(),$=n,js.current=r,ee!==null)throw Error(N(261));return se=null,ie=0,ne}function Sp(){for(;ee!==null;)Qc(ee)}function kp(){for(;ee!==null&&!qd();)Qc(ee)}function Qc(e){var t=Gc(e.alternate,e,je);e.memoizedProps=e.pendingProps,t===null?qc(e):ee=t,eo.current=null}function qc(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=mp(n,t),n!==null){n.flags&=32767,ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ne=6,ee=null;return}}else if(n=hp(n,t,je),n!==null){ee=n;return}if(t=t.sibling,t!==null){ee=t;return}ee=t=e}while(t!==null);ne===0&&(ne=5)}function Pt(e,t,n){var r=V,s=Pe.transition;try{Pe.transition=null,V=1,Np(e,t,n,r)}finally{Pe.transition=s,V=r}return null}function Np(e,t,n,r){do pn();while(ht!==null);if($&6)throw Error(N(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(nf(e,l),e===se&&(ee=se=null,ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_r||(_r=!0,Yc(us,function(){return pn(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Pe.transition,Pe.transition=null;var i=V;V=1;var a=$;$|=4,eo.current=null,gp(e,n),Vc(n,e),Bf(Wl),ds=!!Bl,Wl=Bl=null,e.current=n,yp(n),Kd(),$=a,V=i,Pe.transition=l}else e.current=n;if(_r&&(_r=!1,ht=e,Is=s),l=e.pendingLanes,l===0&&(wt=null),Xd(n.stateNode),Ne(e,Z()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Cs)throw Cs=!1,e=ci,ci=null,e;return Is&1&&e.tag!==0&&pn(),l=e.pendingLanes,l&1?e===di?Kn++:(Kn=0,di=e):Kn=0,It(),null}function pn(){if(ht!==null){var e=Cu(Is),t=Pe.transition,n=V;try{if(Pe.transition=null,V=16>e?16:e,ht===null)var r=!1;else{if(e=ht,ht=null,Is=0,$&6)throw Error(N(331));var s=$;for($|=4,D=e.current;D!==null;){var l=D,i=l.child;if(D.flags&16){var a=l.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(D=c;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:Qn(8,d,l)}var v=d.child;if(v!==null)v.return=d,D=v;else for(;D!==null;){d=D;var m=d.sibling,g=d.return;if(Mc(d),d===c){D=null;break}if(m!==null){m.return=g,D=m;break}D=g}}}var y=l.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var R=x.sibling;x.sibling=null,x=R}while(x!==null)}}D=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,D=i;else e:for(;D!==null;){if(l=D,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Qn(9,l,l.return)}var p=l.sibling;if(p!==null){p.return=l.return,D=p;break e}D=l.return}}var f=e.current;for(D=f;D!==null;){i=D;var h=i.child;if(i.subtreeFlags&2064&&h!==null)h.return=i,D=h;else e:for(i=f;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zs(9,a)}}catch(k){X(a,a.return,k)}if(a===i){D=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,D=S;break e}D=a.return}}if($=s,It(),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(As,e)}catch{}r=!0}return r}finally{V=n,Pe.transition=t}}return!1}function ga(e,t,n){t=xn(n,t),t=Cc(e,t,1),e=xt(e,t,1),t=me(),e!==null&&(pr(e,1,t),Ne(e,t))}function X(e,t,n){if(e.tag===3)ga(e,e,n);else for(;t!==null;){if(t.tag===3){ga(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wt===null||!wt.has(r))){e=xn(n,e),e=Ic(t,e,1),t=xt(t,e,1),e=me(),t!==null&&(pr(t,1,e),Ne(t,e));break}}t=t.return}}function Ep(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=me(),e.pingedLanes|=e.suspendedLanes&n,se===e&&(ie&n)===n&&(ne===4||ne===3&&(ie&130023424)===ie&&500>Z()-no?$t(e,0):to|=n),Ne(e,t)}function Kc(e,t){t===0&&(e.mode&1?(t=Nr,Nr<<=1,!(Nr&130023424)&&(Nr=4194304)):t=1);var n=me();e=lt(e,t),e!==null&&(pr(e,t,n),Ne(e,n))}function jp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Kc(e,n)}function Cp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),Kc(e,n)}var Gc;Gc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Se.current)we=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return we=!1,pp(e,t,n);we=!!(e.flags&131072)}else we=!1,q&&t.flags&1048576&&Ju(t,ys,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ns(e,t),e=t.pendingProps;var s=mn(t,de.current);fn(t,n),s=Yi(null,t,r,e,s,n);var l=Xi();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ke(r)?(l=!0,vs(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wi(t),s.updater=$s,t.stateNode=s,s._reactInternals=t,bl(t,r,e,n),t=ni(null,t,r,!0,l,n)):(t.tag=0,q&&l&&Mi(t),pe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ns(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Tp(r),e=$e(r,e),s){case 0:t=ti(null,t,r,e,n);break e;case 1:t=oa(null,t,r,e,n);break e;case 11:t=la(null,t,r,e,n);break e;case 14:t=ia(null,t,r,$e(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$e(r,s),ti(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$e(r,s),oa(e,t,r,s,n);case 3:e:{if(Ac(t),e===null)throw Error(N(387));r=t.pendingProps,l=t.memoizedState,s=l.element,sc(e,t),Ss(t,r,null,n);var i=t.memoizedState;if(r=i.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=xn(Error(N(423)),t),t=aa(e,t,r,n,s);break e}else if(r!==s){s=xn(Error(N(424)),t),t=aa(e,t,r,n,s);break e}else for(Ce=yt(t.stateNode.containerInfo.firstChild),Ie=t,q=!0,Ve=null,n=nc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vn(),r===s){t=it(e,t,n);break e}pe(e,t,r,n)}t=t.child}return t;case 5:return lc(t),e===null&&Xl(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,i=s.children,Ql(r,s)?i=null:l!==null&&Ql(r,l)&&(t.flags|=32),Dc(e,t),pe(e,t,i,n),t.child;case 6:return e===null&&Xl(t),null;case 13:return Lc(e,t,n);case 4:return Qi(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=gn(t,null,r,n):pe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$e(r,s),la(e,t,r,s,n);case 7:return pe(e,t,t.pendingProps,n),t.child;case 8:return pe(e,t,t.pendingProps.children,n),t.child;case 12:return pe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,i=s.value,H(xs,r._currentValue),r._currentValue=i,l!==null)if(We(l.value,i)){if(l.children===s.children&&!Se.current){t=it(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var a=l.dependencies;if(a!==null){i=l.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(l.tag===1){u=nt(-1,n&-n),u.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Zl(l.return,n,t),a.lanes|=n;break}u=u.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(N(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Zl(i,n,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}pe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,fn(t,n),s=Fe(s),r=r(s),t.flags|=1,pe(e,t,r,n),t.child;case 14:return r=t.type,s=$e(r,t.pendingProps),s=$e(r.type,s),ia(e,t,r,s,n);case 15:return Tc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:$e(r,s),ns(e,t),t.tag=1,ke(r)?(e=!0,vs(t)):e=!1,fn(t,n),jc(t,r,s),bl(t,r,s,n),ni(null,t,r,!0,e,n);case 19:return _c(e,t,n);case 22:return Rc(e,t,n)}throw Error(N(156,t.tag))};function Yc(e,t){return ku(e,t)}function Ip(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _e(e,t,n,r){return new Ip(e,t,n,r)}function io(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tp(e){if(typeof e=="function")return io(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ji)return 11;if(e===Ci)return 14}return 2}function kt(e,t){var n=e.alternate;return n===null?(n=_e(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ls(e,t,n,r,s,l){var i=2;if(r=e,typeof e=="function")io(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Xt:return zt(n.children,s,l,t);case Ei:i=8,s|=8;break;case Nl:return e=_e(12,n,t,s|2),e.elementType=Nl,e.lanes=l,e;case El:return e=_e(13,n,t,s),e.elementType=El,e.lanes=l,e;case jl:return e=_e(19,n,t,s),e.elementType=jl,e.lanes=l,e;case lu:return Us(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ru:i=10;break e;case su:i=9;break e;case ji:i=11;break e;case Ci:i=14;break e;case ut:i=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=_e(i,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function zt(e,t,n,r){return e=_e(7,e,r,t),e.lanes=n,e}function Us(e,t,n,r){return e=_e(22,e,r,t),e.elementType=lu,e.lanes=n,e.stateNode={isHidden:!1},e}function gl(e,t,n){return e=_e(6,e,null,t),e.lanes=n,e}function yl(e,t,n){return t=_e(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rp(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Js(0),this.expirationTimes=Js(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Js(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function oo(e,t,n,r,s,l,i,a,u){return e=new Rp(e,t,n,a,u),t===1?(t=1,l===!0&&(t|=8)):t=0,l=_e(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wi(l),e}function Dp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yt,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Xc(e){if(!e)return Et;e=e._reactInternals;e:{if(qt(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(ke(n))return Xu(e,n,t)}return t}function Zc(e,t,n,r,s,l,i,a,u){return e=oo(n,r,!0,e,s,l,i,a,u),e.context=Xc(null),n=e.current,r=me(),s=St(n),l=nt(r,s),l.callback=t??null,xt(n,l,s),e.current.lanes=s,pr(e,s,r),Ne(e,r),e}function Hs(e,t,n,r){var s=t.current,l=me(),i=St(s);return n=Xc(n),t.context===null?t.context=n:t.pendingContext=n,t=nt(l,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=xt(s,t,i),e!==null&&(He(e,s,i,l),br(e,s,i)),i}function Rs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ya(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ao(e,t){ya(e,t),(e=e.alternate)&&ya(e,t)}function Ap(){return null}var Jc=typeof reportError=="function"?reportError:function(e){console.error(e)};function uo(e){this._internalRoot=e}Bs.prototype.render=uo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));Hs(e,t,null,null)};Bs.prototype.unmount=uo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wt(function(){Hs(null,e,null,null)}),t[st]=null}};function Bs(e){this._internalRoot=e}Bs.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ru();e={blockedOn:null,target:e,priority:t};for(var n=0;n<dt.length&&t!==0&&t<dt[n].priority;n++);dt.splice(n,0,e),n===0&&Au(e)}};function co(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ws(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xa(){}function Lp(e,t,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var c=Rs(i);l.call(c)}}var i=Zc(t,r,e,0,null,!1,!1,"",xa);return e._reactRootContainer=i,e[st]=i.current,nr(e.nodeType===8?e.parentNode:e),Wt(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Rs(u);a.call(c)}}var u=oo(e,0,!1,null,null,!1,!1,"",xa);return e._reactRootContainer=u,e[st]=u.current,nr(e.nodeType===8?e.parentNode:e),Wt(function(){Hs(t,u,n,r)}),u}function Qs(e,t,n,r,s){var l=n._reactRootContainer;if(l){var i=l;if(typeof s=="function"){var a=s;s=function(){var u=Rs(i);a.call(u)}}Hs(t,i,e,s)}else i=Lp(n,t,e,s,r);return Rs(i)}Iu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mn(t.pendingLanes);n!==0&&(Ri(t,n|1),Ne(t,Z()),!($&6)&&(wn=Z()+500,It()))}break;case 13:Wt(function(){var r=lt(e,1);if(r!==null){var s=me();He(r,e,1,s)}}),ao(e,1)}};Di=function(e){if(e.tag===13){var t=lt(e,134217728);if(t!==null){var n=me();He(t,e,134217728,n)}ao(e,134217728)}};Tu=function(e){if(e.tag===13){var t=St(e),n=lt(e,t);if(n!==null){var r=me();He(n,e,t,r)}ao(e,t)}};Ru=function(){return V};Du=function(e,t){var n=V;try{return V=e,t()}finally{V=n}};Fl=function(e,t,n){switch(t){case"input":if(Tl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Fs(r);if(!s)throw Error(N(90));ou(r),Tl(r,s)}}}break;case"textarea":uu(e,n);break;case"select":t=n.value,t!=null&&an(e,!!n.multiple,t,!1)}};vu=ro;gu=Wt;var _p={usingClientEntryPoint:!1,Events:[mr,en,Fs,hu,mu,ro]},Ln={findFiberByHostInstance:Ft,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pp={bundleType:Ln.bundleType,version:Ln.version,rendererPackageName:Ln.rendererPackageName,rendererConfig:Ln.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ot.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wu(e),e===null?null:e.stateNode},findFiberByHostInstance:Ln.findFiberByHostInstance||Ap,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pr.isDisabled&&Pr.supportsFiber)try{As=Pr.inject(Pp),Ye=Pr}catch{}}Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_p;Re.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!co(t))throw Error(N(200));return Dp(e,t,null,n)};Re.createRoot=function(e,t){if(!co(e))throw Error(N(299));var n=!1,r="",s=Jc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=oo(e,1,!1,null,null,n,!1,r,s),e[st]=t.current,nr(e.nodeType===8?e.parentNode:e),new uo(t)};Re.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=wu(t),e=e===null?null:e.stateNode,e};Re.flushSync=function(e){return Wt(e)};Re.hydrate=function(e,t,n){if(!Ws(t))throw Error(N(200));return Qs(null,e,t,!0,n)};Re.hydrateRoot=function(e,t,n){if(!co(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",i=Jc;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Zc(t,null,e,1,n??null,s,!1,l,i),e[st]=t.current,nr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Bs(t)};Re.render=function(e,t,n){if(!Ws(t))throw Error(N(200));return Qs(null,e,t,!1,n)};Re.unmountComponentAtNode=function(e){if(!Ws(e))throw Error(N(40));return e._reactRootContainer?(Wt(function(){Qs(null,null,e,!1,function(){e._reactRootContainer=null,e[st]=null})}),!0):!1};Re.unstable_batchedUpdates=ro;Re.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ws(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return Qs(e,t,n,!1,r)};Re.version="18.3.1-next-f1338f8080-20240426";function bc(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bc)}catch(e){console.error(e)}}bc(),ba.exports=Re;var Fp=ba.exports,ed,wa=Fp;ed=wa.createRoot,wa.hydrateRoot;const hi={googleClientId:"86384417504-ub3mlbvf8d6q2e2c94n8gvu2kaiqnin3.apps.googleusercontent.com",spreadsheetId:"1cFnv_vMZHjVPQS1YsNJwKv4on64uKej0LxwaKsGVouk",adminEmail:"guy.moshk@gmail.com"},td=j.createContext(null),Sa={isAuthenticated:!1,accessToken:null,email:null,error:null};function Op({children:e}){const[t,n]=j.useState(Sa),r=j.useRef(null);j.useEffect(()=>{const i=()=>{r.current=window.google.accounts.oauth2.initTokenClient({client_id:hi.googleClientId,scope:"https://www.googleapis.com/auth/spreadsheets",callback:async a=>{if(a.error){n({isAuthenticated:!1,accessToken:null,email:null,error:a.error});return}let u=null;try{u=(await(await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${a.access_token}`}})).json()).email??null}catch{}n({isAuthenticated:!0,accessToken:a.access_token,email:u,error:null})}})};return window.google?i():window.onGoogleLibraryLoad=i,()=>{window.onGoogleLibraryLoad===i&&(window.onGoogleLibraryLoad=void 0)}},[]);const s=j.useCallback(()=>{var i;(i=r.current)==null||i.requestAccessToken()},[]),l=j.useCallback(()=>{n(Sa)},[]);return o.jsx(td.Provider,{value:{auth:t,signIn:s,signOut:l},children:e})}function Kt(){const e=j.useContext(td);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function nd(){const{auth:e,signIn:t}=Kt();return o.jsx("div",{className:"min-h-screen bg-olive-50 flex items-center justify-center",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-olive-200 p-10 flex flex-col items-center gap-5 w-full max-w-sm",children:[o.jsx("img",{src:"/logo-idf.jpeg",alt:"IDF",className:"h-24 w-24 object-contain"}),o.jsx("img",{src:"/logo-unit.jpg",alt:" ",className:"h-16 w-16 object-contain"}),o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-olive-800",children:"ShabTzak"}),o.jsx("p",{className:"text-olive-600 text-sm mt-1 font-medium",dir:"rtl",children:"   "})]}),e.error&&o.jsx("div",{role:"alert",className:"w-full bg-red-50 border border-red-200 rounded-lg px-3 py-2 text-sm text-red-700",children:e.error}),o.jsx("button",{onClick:t,className:"w-full py-2 px-4 bg-olive-700 text-white rounded-lg hover:bg-olive-800 transition-colors font-medium",children:"Sign in with Google"})]})})}function ka({children:e,unitName:t,onBackToAdmin:n}){const r=[{href:"#",label:"Dashboard"},{href:"#soldiers",label:"Soldiers"},{href:"#tasks",label:"Tasks"},{href:"#leave",label:"Leave"},{href:"#schedule",label:"Schedule"},{href:"#history",label:"History"}],{auth:s,signOut:l}=Kt(),[i,a]=j.useState(()=>window.location.hash);return j.useEffect(()=>{const u=()=>a(window.location.hash);return window.addEventListener("hashchange",u),()=>window.removeEventListener("hashchange",u)},[]),s.isAuthenticated?o.jsxs("div",{className:"min-h-screen bg-olive-50",children:[o.jsx("header",{className:"bg-white border-b-2 border-olive-700 shadow-sm",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:"/logo-unit.jpg",alt:" ",className:"h-8 w-8 object-contain rounded"}),t&&o.jsx("span",{className:"text-sm font-medium text-olive-600 border-l border-olive-200 pl-3",children:t})]}),o.jsx("nav",{className:"flex items-center gap-4 text-sm",children:r.map(({href:u,label:c})=>{const d=i===u||u==="#"&&(i===""||i==="#");return o.jsx("a",{href:u,"aria-current":d?"page":void 0,className:d?"text-olive-700 font-semibold border-b-2 border-olive-700 pb-0.5":"text-olive-500 hover:text-olive-700",children:c},u)})}),o.jsxs("div",{className:"flex items-center gap-3",children:[n&&o.jsx("button",{onClick:n,className:"text-sm text-olive-500 hover:text-olive-700 transition-colors",children:" Admin Panel"}),o.jsx("button",{onClick:l,className:"text-sm text-olive-400 hover:text-red-600 transition-colors",children:"Sign out"})]})]})}),o.jsx("main",{className:"max-w-6xl mx-auto px-4 py-6",children:e})]}):o.jsx(nd,{})}function Mp({soldiers:e,leaveRequests:t,taskAssignments:n,conflicts:r,onGenerateSchedule:s}){const l=e.filter(v=>v.status==="Active"),i=t.filter(v=>v.status==="Pending"),a=e.map(v=>v.currentFairness),u=a.length?a.reduce((v,m)=>v+m,0)/a.length:0,c=a.length?Math.min(...a):0,d=a.length?Math.max(...a):0;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold text-olive-800",children:"Dashboard"}),o.jsx("button",{onClick:s,className:"px-4 py-2 bg-olive-700 text-white text-sm rounded-lg hover:bg-olive-800",children:"Generate Schedule"})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-lg border border-olive-200 shadow-sm p-4",children:[o.jsx("p",{className:"text-sm text-olive-500",children:"Active Soldiers"}),o.jsx("p",{className:"text-2xl font-bold text-olive-800",children:l.length})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-olive-200 shadow-sm p-4",children:[o.jsx("p",{className:"text-sm text-olive-500",children:"Pending Leave Requests"}),o.jsx("p",{className:"text-2xl font-bold text-olive-800",children:i.length})]}),o.jsxs("div",{className:"bg-white rounded-lg border border-olive-200 shadow-sm p-4",children:[o.jsx("p",{className:"text-sm text-olive-500",children:"Task Assignments"}),o.jsx("p",{className:"text-2xl font-bold text-olive-800",children:n.length})]}),o.jsxs("div",{className:`rounded-lg border border-olive-200 shadow-sm p-4 ${r.length>0?"bg-red-50":"bg-white"}`,children:[o.jsx("p",{className:"text-sm text-olive-500",children:"Conflicts"}),o.jsx("p",{className:`text-2xl font-bold ${r.length>0?"text-red-600":"text-olive-800"}`,children:r.length})]})]}),e.length>0&&o.jsxs("div",{className:"bg-white rounded-lg border border-olive-200 shadow-sm p-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-olive-700 mb-2",children:"Fairness Summary"}),o.jsxs("div",{className:"flex gap-6 text-sm text-olive-600",children:[o.jsxs("span",{children:["Avg: ",o.jsx("span",{className:"font-mono font-semibold text-olive-800",children:u.toFixed(1)})]}),o.jsxs("span",{children:["Min: ",o.jsx("span",{className:"font-mono font-semibold text-green-700",children:c.toFixed(1)})]}),o.jsxs("span",{children:["Max: ",o.jsx("span",{className:"font-mono font-semibold text-red-700",children:d.toFixed(1)})]})]})]}),r.length>0&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-red-700 mb-2",children:"Schedule Conflicts"}),o.jsx("ul",{className:"space-y-1",children:r.map((v,m)=>o.jsx("li",{className:"text-sm text-red-600",children:v.message},m))})]})]})}const dr=["Driver","Radio Operator","Medic","Squad Leader","Operations Room","Weapons Specialist"],Na=["Family event","University exam","Civilian job","Medical appointment","Child's birthday","Wife's birthday","Wedding anniversary","Parent medical appointment","General home issue","Preference"],At={leaveRatioDaysInBase:10,leaveRatioDaysHome:4,longLeaveMaxDays:4,weekendDays:["Friday","Saturday"],minBasePresence:20,maxDrivingHours:8,defaultRestPeriod:6},J={SOLDIERS:"Soldiers",TASKS:"Tasks",TASK_SCHEDULE:"TaskSchedule",LEAVE_REQUESTS:"LeaveRequests",LEAVE_SCHEDULE:"LeaveSchedule",HISTORY:"History",CONFIG:"Config",VERSION:"Version"},$p=1,zp=10,Vp=[5,6],xl={WEEKEND_LEAVE:1.5,MIDWEEK_LEAVE:1,AFTER_LEAVE:.5},Be={ADMINS:"Admins",UNITS:"Units",COMMANDERS:"Commanders"};function Up({score:e,average:t}){const n=Math.max(t*2,e,1),r=Math.min(100,Math.round(e/n*100)),l=e>t?"bg-red-400":"bg-olive-500";return o.jsxs("div",{className:"flex items-center gap-2 min-w-[80px]",children:[o.jsx("div",{className:"flex-1 h-2 bg-olive-100 rounded overflow-hidden",children:o.jsx("div",{"data-testid":"fairness-fill",className:`h-full rounded ${l}`,style:{width:`${r}%`}})}),o.jsx("span",{className:"text-xs font-mono text-gray-600 w-8 text-right",children:e.toFixed(1)})]})}function rd(e,t){const n=new Date(e).getTime(),r=new Date(t).getTime();return Math.max(0,Math.round((r-n)/(1e3*60*60*24)))}function Hp(e,t){const n=rd(e.serviceStart,e.serviceEnd);if(n===0)return 0;const r=t.leaveRatioDaysInBase+t.leaveRatioDaysHome;return Math.floor(n/r*t.leaveRatioDaysHome)}function Bp(e,t){return t.filter(n=>n.soldierId===e).reduce((n,r)=>n+rd(r.startDate,r.endDate),0)}const Ea={name:"",role:"Driver",serviceStart:"",serviceEnd:""};function Wp({soldiers:e,loading:t,onDischarge:n,onAddSoldier:r,onAdjustFairness:s,configData:l,leaveAssignments:i=[]}){const[a,u]=j.useState(!1),[c,d]=j.useState(Ea),[v,m]=j.useState(null),[g,y]=j.useState(""),[x,R]=j.useState(""),[p,f]=j.useState(""),[h,S]=j.useState(""),[k,C]=j.useState(""),[E,I]=j.useState(null),[z,L]=j.useState(!0);function b(T){T.preventDefault(),r(c),d(Ea),u(!1)}function Ee(T){const M=parseFloat(g);!isNaN(M)&&x.trim()&&(s==null||s(T,M,x.trim()),m(null),y(""),R(""))}if(t)return o.jsx("div",{className:"p-4 text-gray-500",children:"Loading soldiers"});function ye(T){E===T?L(M=>!M):(I(T),L(!0))}const Qe=e.filter(T=>{const M=p===""||T.name.toLowerCase().includes(p.toLowerCase()),w=h===""||T.role===h,_=k===""||T.status===k;return M&&w&&_}).sort((T,M)=>{if(!E)return 0;let w=0;return E==="name"&&(w=T.name.localeCompare(M.name)),E==="fairness"&&(w=T.currentFairness-M.currentFairness),z?w:-w}),Tt=e.length?e.reduce((T,M)=>T+M.currentFairness,0)/e.length:0;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold text-olive-800",children:"Soldiers"}),o.jsx("button",{onClick:()=>u(T=>!T),className:"px-3 py-1.5 text-sm bg-olive-700 text-white rounded-lg hover:bg-olive-800",children:"Add Soldier"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{placeholder:"Search soldiers",value:p,onChange:T=>f(T.target.value),className:"border rounded px-3 py-1.5 text-sm flex-1"}),o.jsxs("select",{value:h,onChange:T=>S(T.target.value),"aria-label":"Filter by role",className:"border rounded px-3 py-1.5 text-sm",children:[o.jsx("option",{value:"",children:"All roles"}),dr.map(T=>o.jsx("option",{value:T,children:T},T))]}),o.jsxs("select",{value:k,onChange:T=>C(T.target.value),"aria-label":"Filter by status",className:"border rounded px-3 py-1.5 text-sm",children:[o.jsx("option",{value:"",children:"All statuses"}),o.jsx("option",{value:"Active",children:"Active"}),o.jsx("option",{value:"Injured",children:"Injured"}),o.jsx("option",{value:"Discharged",children:"Discharged"})]})]}),a&&o.jsxs("form",{onSubmit:b,className:"bg-white rounded-lg border border-olive-200 shadow-sm p-4 space-y-3",children:[o.jsx("div",{children:o.jsx("input",{placeholder:"Name",value:c.name,onChange:T=>d(M=>({...M,name:T.target.value})),required:!0,className:"w-full border rounded px-3 py-1.5 text-sm"})}),o.jsx("div",{children:o.jsx("select",{value:c.role,onChange:T=>d(M=>({...M,role:T.target.value})),className:"w-full border rounded px-3 py-1.5 text-sm","aria-label":"Role",children:dr.map(T=>o.jsx("option",{value:T,children:T},T))})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-olive-600 mb-1",htmlFor:"svc-start",children:"Service start"}),o.jsx("input",{id:"svc-start",type:"date",value:c.serviceStart,onChange:T=>d(M=>({...M,serviceStart:T.target.value})),required:!0,className:"w-full border rounded px-3 py-1.5 text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-olive-600 mb-1",htmlFor:"svc-end",children:"Service end"}),o.jsx("input",{id:"svc-end",type:"date",value:c.serviceEnd,onChange:T=>d(M=>({...M,serviceEnd:T.target.value})),required:!0,className:"w-full border rounded px-3 py-1.5 text-sm"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"submit",className:"px-3 py-1.5 text-sm bg-olive-700 text-white rounded-lg hover:bg-olive-800",children:"Add"}),o.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-3 py-1.5 text-sm text-olive-600 hover:text-gray-900",children:"Cancel"})]})]}),e.length===0&&!a&&o.jsx("p",{className:"text-gray-400 text-sm",children:"No soldiers found."}),e.length>0&&o.jsx("div",{className:"bg-white rounded-lg border border-olive-200 shadow-sm overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-olive-700 text-white",children:o.jsxs("tr",{children:[o.jsxs("th",{className:"text-left px-4 py-2 cursor-pointer select-none hover:bg-olive-100",onClick:()=>ye("name"),children:["Name",E==="name"?z?" ":" ":""]}),o.jsx("th",{className:"text-left px-4 py-2",children:"Role"}),o.jsx("th",{className:"text-left px-4 py-2",children:"Status"}),o.jsxs("th",{className:"text-left px-4 py-2 cursor-pointer select-none hover:bg-olive-100",onClick:()=>ye("fairness"),children:["Fairness",E==="fairness"?z?" ":" ":""]}),o.jsx("th",{className:"text-left px-4 py-2",children:"Hours"}),l&&o.jsx("th",{className:"text-left px-4 py-2",children:"Quota"}),o.jsx("th",{className:"px-4 py-2"})]})}),o.jsx("tbody",{children:Qe.map(T=>o.jsxs(Za.Fragment,{children:[o.jsxs("tr",{className:"border-t",children:[o.jsx("td",{className:"px-4 py-2",children:T.name}),o.jsx("td",{className:"px-4 py-2 text-olive-500",children:T.role}),o.jsx("td",{className:"px-4 py-2",children:o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${T.status==="Active"?"bg-green-100 text-green-700":T.status==="Injured"?"bg-yellow-100 text-yellow-700":"bg-olive-100 text-olive-500"}`,children:T.status})}),o.jsx("td",{className:"px-4 py-2",children:o.jsx(Up,{score:T.currentFairness,average:Tt})}),o.jsxs("td",{className:"px-4 py-2 text-olive-500 text-xs",children:[T.hoursWorked,"h"]}),l&&o.jsxs("td",{className:"px-4 py-2 text-olive-500 text-xs",children:[o.jsx("span",{children:Hp(T,l)})," ",o.jsxs("span",{className:"text-gray-400",children:[Bp(T.id,i)," used"]})]}),o.jsxs("td",{className:"px-4 py-2 text-right space-x-2",children:[o.jsx("button",{onClick:()=>m(M=>M===T.id?null:T.id),className:"text-xs text-olive-700 hover:text-olive-800",children:"Adjust"}),T.status==="Active"&&o.jsx("button",{onClick:()=>{window.confirm(`Discharge ${T.name}?`)&&n(T.id)},className:"text-xs text-red-600 hover:text-red-800",children:"Discharge"})]})]}),v===T.id&&o.jsx("tr",{className:"bg-olive-50 border-t",children:o.jsx("td",{colSpan:l?7:6,className:"px-4 py-2",children:o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx("label",{className:"text-xs text-olive-600",htmlFor:`delta-${T.id}`,children:"Delta"}),o.jsx("input",{id:`delta-${T.id}`,type:"number",step:"0.5",value:g,onChange:M=>y(M.target.value),className:"w-20 border rounded px-2 py-1 text-xs",placeholder:"e.g. 2 or -1"}),o.jsx("label",{className:"text-xs text-olive-600",htmlFor:`reason-${T.id}`,children:"Reason"}),o.jsx("input",{id:`reason-${T.id}`,type:"text",value:x,onChange:M=>R(M.target.value),className:"flex-1 border rounded px-2 py-1 text-xs min-w-[120px]",placeholder:"Reason for adjustment"}),o.jsx("button",{onClick:()=>Ee(T.id),className:"px-2 py-1 text-xs bg-olive-700 text-white rounded hover:bg-olive-800",children:"Apply"})]})})})]},T.id))})]})})]})}function Qp({soldiers:e,onSubmit:t,onCancel:n}){var x;const r=e.filter(R=>R.status==="Active"),[s,l]=j.useState(((x=r[0])==null?void 0:x.id)??""),[i,a]=j.useState(""),[u,c]=j.useState(""),[d,v]=j.useState(Na[0]),[m,g]=j.useState(5);function y(R){R.preventDefault(),t({soldierId:s,startDate:i,endDate:u,constraintType:d,priority:m})}return o.jsxs("form",{onSubmit:y,className:"bg-white rounded-lg border border-olive-200 shadow-sm p-6 space-y-4 max-w-md",children:[o.jsx("h3",{className:"text-lg font-semibold text-olive-800",children:"Submit Leave Request"}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"leave-soldier",className:"block text-sm text-olive-600 mb-1",children:"Soldier"}),o.jsx("select",{id:"leave-soldier","aria-label":"Soldier",value:s,onChange:R=>l(R.target.value),className:"w-full border rounded px-3 py-1.5 text-sm",required:!0,children:r.map(R=>o.jsx("option",{value:R.id,children:R.name},R.id))})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"leave-start",className:"block text-sm text-olive-600 mb-1",children:"Start date"}),o.jsx("input",{id:"leave-start",type:"date",value:i,onChange:R=>a(R.target.value),className:"w-full border rounded px-3 py-1.5 text-sm",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"leave-end",className:"block text-sm text-olive-600 mb-1",children:"End date"}),o.jsx("input",{id:"leave-end",type:"date",value:u,onChange:R=>c(R.target.value),className:"w-full border rounded px-3 py-1.5 text-sm",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"leave-constraint",className:"block text-sm text-olive-600 mb-1",children:"Reason"}),o.jsx("select",{id:"leave-constraint",value:d,onChange:R=>v(R.target.value),className:"w-full border rounded px-3 py-1.5 text-sm",children:Na.map(R=>o.jsx("option",{value:R,children:R},R))})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"leave-priority",className:"block text-sm text-olive-600 mb-1",children:"Priority"}),o.jsx("input",{id:"leave-priority",type:"number",min:$p,max:zp,value:m,onChange:R=>g(Number(R.target.value)),className:"w-full border rounded px-3 py-1.5 text-sm"})]}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsx("button",{type:"submit",className:"px-4 py-2 bg-olive-700 text-white text-sm rounded-lg hover:bg-olive-800",children:"Submit"}),n&&o.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm text-olive-600 hover:text-gray-900",children:"Cancel"})]})]})}function qp(e){const t=e.getDay();return Vp.includes(t)}function Kp(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function he(e){return new Date(e)}function Gp(e,t){const n=[],r=new Date(e),s=new Date(t);for(;r<=s;)n.push(new Date(r)),r.setDate(r.getDate()+1);return n}function mi(e){const t=e.split("T")[0],[,n,r]=t.split("-");return`${r}/${n}`}const Yp={Pending:"bg-yellow-100 text-yellow-700",Approved:"bg-green-100 text-green-700",Denied:"bg-red-100 text-red-600"};function Xp({leaveRequests:e,soldiers:t,onApprove:n,onDeny:r}){const[s,l]=j.useState("All"),i=new Map(t.map(u=>[u.id,u])),a=s==="All"?e:e.filter(u=>u.status===s);return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[o.jsx("h2",{className:"text-xl font-semibold text-olive-800",children:"Leave Requests"}),o.jsxs("select",{value:s,onChange:u=>l(u.target.value),"aria-label":"Filter by status",className:"border rounded px-3 py-1.5 text-sm",children:[o.jsx("option",{value:"All",children:"All"}),o.jsx("option",{value:"Pending",children:"Pending"}),o.jsx("option",{value:"Approved",children:"Approved"}),o.jsx("option",{value:"Denied",children:"Denied"})]})]}),a.length===0&&o.jsx("p",{className:"text-gray-400 text-sm",children:"No leave requests found."}),a.length>0&&o.jsx("div",{className:"bg-white rounded-lg border border-olive-200 shadow-sm overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-olive-700 text-white",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-4 py-2",children:"Soldier"}),o.jsx("th",{className:"text-left px-4 py-2",children:"Dates"}),o.jsx("th",{className:"text-left px-4 py-2",children:"Type"}),o.jsx("th",{className:"text-left px-4 py-2",children:"Priority"}),o.jsx("th",{className:"text-left px-4 py-2",children:"Status"}),o.jsx("th",{className:"px-4 py-2"})]})}),o.jsx("tbody",{children:a.map(u=>{const c=i.get(u.soldierId);return o.jsxs("tr",{className:"border-t",children:[o.jsx("td",{className:"px-4 py-2",children:(c==null?void 0:c.name)??u.soldierId}),o.jsxs("td",{className:"px-4 py-2 text-olive-600",children:[mi(u.startDate),"  ",mi(u.endDate)]}),o.jsx("td",{className:"px-4 py-2 text-olive-500",children:u.leaveType}),o.jsx("td",{className:"px-4 py-2 text-olive-500",children:u.priority}),o.jsx("td",{className:"px-4 py-2",children:o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Yp[u.status]??""}`,children:u.status})}),o.jsx("td",{className:"px-4 py-2 text-right space-x-2",children:u.status==="Pending"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>n(u.id),className:"text-xs text-green-600 hover:text-green-800",children:"Approve"}),o.jsx("button",{onClick:()=>{window.confirm("Deny this leave request?")&&r(u.id)},className:"text-xs text-red-600 hover:text-red-800",children:"Deny"})]})})]},u.id)})})]})})]})}function Zp(e,t){const n=he(t);return he(e.startDate)<=n&&n<=he(e.endDate)}function Jp(e,t){const n=he(t),r=he(e.startTime.split("T")[0]),s=he(e.endTime.split("T")[0]);return r<=n&&n<=s}function bp(e,t,n,r,s){const l=new Map(t.map(a=>[a.id,a])),i=new Map;for(const a of s){const u=new Map;for(const c of e){if(r.some(m=>m.soldierId===c.id&&Zp(m,a))){u.set(c.id,"on-leave");continue}const v=n.some(m=>{if(m.soldierId!==c.id)return!1;const g=l.get(m.taskId);return g?Jp(g,a):!1});u.set(c.id,v?"on-task":"available")}i.set(a,u)}return i}const eh={available:"bg-green-100","on-leave":"bg-yellow-200","on-task":"bg-olive-200"};function th({soldiers:e,dates:t,tasks:n,taskAssignments:r,leaveAssignments:s}){if(e.length===0)return o.jsx("p",{className:"text-gray-400 text-sm",children:"No soldiers to display."});const l=bp(e,n,r,s,t);return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"text-xs border-collapse",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-1 text-left text-olive-600 font-medium sticky left-0 bg-white",children:"Soldier"}),t.map(i=>o.jsx("th",{className:"px-2 py-1 text-olive-500 font-normal whitespace-nowrap",children:mi(i)},i))]})}),o.jsx("tbody",{children:e.map(i=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-2 py-1 font-medium text-olive-800 sticky left-0 bg-white whitespace-nowrap",children:i.name}),t.map(a=>{var c;const u=((c=l.get(a))==null?void 0:c.get(i.id))??"available";return o.jsx("td",{title:u,className:`px-3 py-1 border border-gray-100 ${eh[u]}`},a)})]},i.id))})]})}),o.jsxs("div",{className:"flex gap-4 mt-2 text-xs text-olive-500",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"inline-block w-3 h-3 bg-green-100 border border-gray-200"})," Available"]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"inline-block w-3 h-3 bg-yellow-200 border border-gray-200"})," On leave"]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx("span",{className:"inline-block w-3 h-3 bg-olive-200 border border-gray-200"})," On task"]})]})]})}function nh(e,t){if(e.length===0)return"No leave assignments scheduled.";const n=new Map(t.map(s=>[s.id,s.name]));return`Leave Schedule
--------------
${e.map(s=>{const l=n.get(s.soldierId)??s.soldierId,i=s.startDate===s.endDate?s.startDate:`${s.startDate}  ${s.endDate}`;return`${l}: ${i} (${s.leaveType})`}).join(`
`)}`}function rh(){window.print()}function sh(e,t){const n=new Map(e.map(l=>[l.id,l.name])),r="Soldier,Start Date,End Date,Leave Type,Weekend";if(t.length===0)return r;const s=t.map(l=>[n.get(l.soldierId)??l.soldierId,l.startDate,l.endDate,l.leaveType,l.isWeekend?"Yes":"No"].join(","));return[r,...s].join(`
`)}function lh(e,t){const n=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(n),s=document.createElement("a");s.setAttribute("href",r),s.setAttribute("download",e),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)}const ih=[...dr,"Any"];function oh({soldiers:e,dates:t,tasks:n,taskAssignments:r,leaveAssignments:s,conflicts:l,onGenerate:i,onManualAssign:a}){const[u,c]=j.useState(!1),[d,v]=j.useState(!1),[m,g]=j.useState(""),[y,x]=j.useState(""),[R,p]=j.useState(dr[0]);function f(){const k=nh(s,e);navigator.clipboard.writeText(k).then(()=>{c(!0),setTimeout(()=>c(!1),2e3)})}function h(){const k=sh(e,s);lh("schedule.csv",k)}function S(k){k.preventDefault(),!(!m||!y)&&(a(m,y,R),g(""),x(""),p(dr[0]))}return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsx("h2",{className:"text-xl font-semibold text-olive-800 mr-auto",children:"Schedule"}),o.jsx("button",{onClick:f,className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg hover:bg-gray-50",children:u?"Copied!":"Copy for WhatsApp"}),o.jsx("button",{onClick:h,className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg hover:bg-gray-50",children:"Export CSV"}),o.jsx("button",{onClick:rh,className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg hover:bg-gray-50",children:"Print"}),o.jsx("button",{onClick:i,className:"px-4 py-2 bg-olive-700 text-white text-sm rounded-lg hover:bg-olive-800",children:"Generate Schedule"})]}),o.jsx(th,{soldiers:e,dates:t,tasks:n,taskAssignments:r,leaveAssignments:s}),o.jsxs("div",{children:[o.jsx("button",{onClick:()=>v(k=>!k),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg hover:bg-gray-50",children:"Add manual assignment"}),d&&o.jsxs("form",{onSubmit:S,className:"mt-3 bg-white rounded-lg border border-olive-200 shadow-sm p-4 space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"manual-soldier",className:"block text-xs text-olive-600 mb-1",children:"Soldier"}),o.jsxs("select",{id:"manual-soldier","aria-label":"Soldier",value:m,onChange:k=>g(k.target.value),required:!0,className:"w-full border rounded px-3 py-1.5 text-sm",children:[o.jsx("option",{value:"",children:"Select soldier"}),e.map(k=>o.jsx("option",{value:k.id,children:k.name},k.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"manual-task",className:"block text-xs text-olive-600 mb-1",children:"Task"}),o.jsxs("select",{id:"manual-task","aria-label":"Task",value:y,onChange:k=>x(k.target.value),required:!0,className:"w-full border rounded px-3 py-1.5 text-sm",children:[o.jsx("option",{value:"",children:"Select task"}),n.map(k=>o.jsx("option",{value:k.id,children:k.taskType},k.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"manual-role",className:"block text-xs text-olive-600 mb-1",children:"Role"}),o.jsx("select",{id:"manual-role","aria-label":"Role",value:R,onChange:k=>p(k.target.value),className:"w-full border rounded px-3 py-1.5 text-sm",children:ih.map(k=>o.jsx("option",{value:k,children:k},k))})]}),o.jsx("button",{type:"submit",className:"px-3 py-1.5 text-sm bg-olive-700 text-white rounded-lg hover:bg-olive-800",children:"Assign"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-semibold text-olive-700 mb-2",children:"Conflicts"}),l.length===0?o.jsx("p",{className:"text-sm text-green-600",children:"No conflicts detected."}):o.jsx("ul",{className:"space-y-2",children:l.map((k,C)=>o.jsxs("li",{className:"bg-red-50 border border-red-200 rounded p-3",children:[o.jsx("p",{className:"text-sm font-medium text-red-700",children:k.type}),o.jsx("p",{className:"text-sm text-red-600",children:k.message}),k.suggestions.length>0&&o.jsx("ul",{className:"mt-1 list-disc list-inside text-xs text-red-500",children:k.suggestions.map((E,I)=>o.jsx("li",{children:E},I))})]},C))})]})]})}const ah=["Driver","Radio Operator","Medic","Squad Leader","Operations Room","Weapons Specialist","Any"],ja={taskType:"",isPillbox:!1,pillboxDate:"",startTime:"",durationHours:1,roleRequirements:[],pendingRole:"Driver",pendingCount:1};function uh(e){return e.includes("T")?e.split("T")[1].slice(0,5):e.slice(0,5)}function ch({tasks:e,onAddTask:t,loading:n}){const[r,s]=j.useState(!1),[l,i]=j.useState(ja),[a,u]=j.useState("");function c(){if(l.pendingCount<1)return;const g=l.roleRequirements.findIndex(y=>y.role===l.pendingRole);if(g>=0){const y=l.roleRequirements.map((x,R)=>R===g?{...x,count:x.count+l.pendingCount}:x);i(x=>({...x,roleRequirements:y}))}else i(y=>({...y,roleRequirements:[...y.roleRequirements,{role:y.pendingRole,count:y.pendingCount}]}))}function d(g){i(y=>({...y,roleRequirements:y.roleRequirements.filter((x,R)=>R!==g)}))}function v(g){g.preventDefault();const y=l.durationHours;let x;if(l.isPillbox){const R=`${l.pillboxDate}T${l.startTime}`,f=new Date(R).getTime()+y*60*60*1e3,h=new Date(f).toISOString().replace(".000Z","");x={taskType:l.taskType,startTime:R,endTime:h,durationHours:y,roleRequirements:l.roleRequirements,isSpecial:!0,specialDurationDays:Math.ceil(y/24)}}else x={taskType:l.taskType,startTime:l.startTime,endTime:"",durationHours:y,roleRequirements:l.roleRequirements,isSpecial:!1};t(x),i(ja),s(!1)}if(n)return o.jsx("div",{className:"p-4 text-gray-500",children:"Loading tasks"});const m=a?e.filter(g=>g.taskType.toLowerCase().includes(a.toLowerCase())):e;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-semibold text-olive-800",children:"Tasks"}),o.jsx("button",{onClick:()=>s(g=>!g),className:"px-3 py-1.5 text-sm bg-olive-700 text-white rounded-lg hover:bg-olive-800",children:"Add Task"})]}),o.jsx("input",{placeholder:"Filter by type",value:a,onChange:g=>u(g.target.value),className:"border rounded px-3 py-1.5 text-sm w-full max-w-xs"}),r&&o.jsxs("form",{onSubmit:v,className:"bg-white rounded-lg border border-olive-200 shadow-sm p-4 space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"task-type",className:"block text-xs text-olive-600 mb-1",children:"Description"}),o.jsx("input",{id:"task-type","aria-label":"Task type",value:l.taskType,onChange:g=>i(y=>({...y,taskType:g.target.value})),required:!0,className:"w-full border rounded px-3 py-1.5 text-sm"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{id:"task-is-pillbox",type:"checkbox",checked:l.isPillbox,onChange:g=>i(y=>({...y,isPillbox:g.target.checked,pillboxDate:""})),className:"rounded"}),o.jsx("label",{htmlFor:"task-is-pillbox",className:"text-sm text-olive-700",children:"Is Pillbox"})]}),l.isPillbox&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"task-pillbox-date",className:"block text-xs text-olive-600 mb-1",children:"Date"}),o.jsx("input",{id:"task-pillbox-date",type:"date",value:l.pillboxDate,onChange:g=>i(y=>({...y,pillboxDate:g.target.value})),required:!0,className:"w-full border rounded px-3 py-1.5 text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"task-start",className:"block text-xs text-olive-600 mb-1",children:"Start time"}),o.jsx("input",{id:"task-start","aria-label":"Start time",type:"time",value:l.startTime,onChange:g=>i(y=>({...y,startTime:g.target.value})),required:!0,className:"w-full border rounded px-3 py-1.5 text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"task-duration",className:"block text-xs text-olive-600 mb-1",children:"Duration (hours)"}),o.jsx("input",{id:"task-duration","aria-label":"Duration hours",type:"number",min:"1",value:l.durationHours,onChange:g=>i(y=>({...y,durationHours:Number(g.target.value)})),required:!0,className:"w-full border rounded px-3 py-1.5 text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-olive-600 mb-1",children:"Role requirements"}),o.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[o.jsx("select",{"aria-label":"Role",value:l.pendingRole,onChange:g=>i(y=>({...y,pendingRole:g.target.value})),className:"border rounded px-2 py-1.5 text-sm",children:ah.map(g=>o.jsx("option",{value:g,children:g},g))}),o.jsx("input",{"aria-label":"Role count",type:"number",min:"1",value:l.pendingCount,onChange:g=>i(y=>({...y,pendingCount:Number(g.target.value)})),className:"border rounded px-2 py-1.5 text-sm w-16"}),o.jsx("button",{type:"button",onClick:c,className:"px-3 py-1.5 text-sm bg-olive-100 hover:bg-gray-200 rounded",children:"Add role"})]}),l.roleRequirements.length>0&&o.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:l.roleRequirements.map((g,y)=>o.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-olive-50 text-olive-700 text-xs rounded",children:[g.role," ",g.count,o.jsx("button",{type:"button",onClick:()=>d(y),className:"ml-1 text-olive-600 hover:text-olive-700","aria-label":`Remove ${g.role}`,children:""})]},y))})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"submit",className:"px-3 py-1.5 text-sm bg-olive-700 text-white rounded-lg hover:bg-olive-800",children:"Add"}),o.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-3 py-1.5 text-sm text-olive-600 hover:text-gray-900",children:"Cancel"})]})]}),e.length===0&&!r&&o.jsx("p",{className:"text-gray-400 text-sm",children:"No tasks found."}),e.length>0&&o.jsx("div",{className:"bg-white rounded-lg border border-olive-200 shadow-sm overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-olive-700 text-white",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-4 py-2",children:"Type"}),o.jsx("th",{className:"text-left px-4 py-2",children:"Start"}),o.jsx("th",{className:"text-left px-4 py-2",children:"Duration"}),o.jsx("th",{className:"text-left px-4 py-2",children:"Roles"})]})}),o.jsx("tbody",{children:m.map(g=>o.jsxs("tr",{className:"border-t",children:[o.jsx("td",{className:"px-4 py-2 font-medium",children:g.taskType}),o.jsx("td",{className:"px-4 py-2 text-olive-500 text-xs",children:uh(g.startTime)}),o.jsxs("td",{className:"px-4 py-2 text-olive-500",children:[g.durationHours,"h"]}),o.jsx("td",{className:"px-4 py-2",children:o.jsx("div",{className:"flex flex-wrap gap-1",children:g.roleRequirements.map((y,x)=>o.jsxs("span",{className:"px-1.5 py-0.5 bg-olive-50 text-olive-700 text-xs rounded",children:[y.role," ",y.count]},x))})})]},g.id))})]})})]})}function dh({entries:e,loading:t}){const[n,r]=j.useState(""),[s,l]=j.useState(""),i=Array.from(new Set(e.map(u=>u.action))).sort();if(t)return o.jsx("div",{className:"p-4 text-gray-500",children:"Loading history"});const a=e.filter(u=>{const c=n.trim().toLowerCase(),d=!c||u.action.toLowerCase().includes(c)||u.entityType.toLowerCase().includes(c)||u.details.toLowerCase().includes(c)||u.changedBy.toLowerCase().includes(c),v=!s||u.action===s;return d&&v});return o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-olive-800",children:"History"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{placeholder:"Search history",value:n,onChange:u=>r(u.target.value),className:"flex-1 border rounded px-3 py-1.5 text-sm"}),o.jsxs("select",{value:s,onChange:u=>l(u.target.value),"aria-label":"Filter by action",className:"border rounded px-3 py-1.5 text-sm",children:[o.jsx("option",{value:"",children:"All actions"}),i.map(u=>o.jsx("option",{value:u,children:u},u))]})]}),a.length===0&&o.jsx("p",{className:"text-gray-400 text-sm",children:"No history entries found."}),a.length>0&&o.jsx("div",{className:"bg-white rounded-lg border border-olive-200 shadow-sm overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-olive-700 text-white",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-4 py-2",children:"Time"}),o.jsx("th",{className:"text-left px-4 py-2",children:"Type"}),o.jsx("th",{className:"text-left px-4 py-2",children:"Action"}),o.jsx("th",{className:"text-left px-4 py-2",children:"Details"}),o.jsx("th",{className:"text-left px-4 py-2",children:"By"})]})}),o.jsx("tbody",{children:a.map((u,c)=>o.jsxs("tr",{className:"border-t",children:[o.jsx("td",{className:"px-4 py-2 text-olive-500 text-xs whitespace-nowrap",children:u.timestamp}),o.jsx("td",{className:"px-4 py-2",children:o.jsx("span",{className:"px-2 py-0.5 bg-olive-100 text-olive-600 rounded text-xs font-mono",children:u.entityType})}),o.jsx("td",{className:"px-4 py-2 text-olive-500 text-xs",children:u.action}),o.jsx("td",{className:"px-4 py-2 text-olive-700",children:u.details}),o.jsx("td",{className:"px-4 py-2 text-olive-500 text-xs",children:u.changedBy})]},c))})]})})]})}const fh={success:"bg-green-600",error:"bg-red-600",info:"bg-olive-700"};function ph({toasts:e,onRemove:t}){return e.length===0?null:o.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2",children:e.map(n=>o.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg text-white text-sm ${fh[n.type]}`,children:[o.jsx("span",{children:n.message}),o.jsx("button",{onClick:()=>t(n.id),"aria-label":"Dismiss",className:"ml-2 opacity-75 hover:opacity-100 font-bold",children:""})]},n.id))})}class hh extends Za.Component{constructor(n){super(n);A(this,"handleRetry",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}render(){var n;return this.state.hasError?o.jsx("div",{className:"min-h-screen bg-olive-50 flex items-center justify-center",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-10 max-w-md w-full text-center space-y-4",children:[o.jsx("h1",{className:"text-xl font-bold text-red-600",children:"Something went wrong"}),o.jsx("p",{className:"text-sm text-gray-500",children:(n=this.state.error)==null?void 0:n.message}),o.jsx("button",{onClick:this.handleRetry,className:"px-4 py-2 bg-olive-700 text-white text-sm rounded-lg hover:bg-olive-800",children:"Retry"})]})}):this.props.children}}const Lt="https://sheets.googleapis.com/v4/spreadsheets";class sd{constructor(t){A(this,"accessToken");this.accessToken=t}async getSpreadsheet(t){const n=`${Lt}/${t}`,r=await fetch(n,{headers:{Authorization:`Bearer ${this.accessToken}`}});if(!r.ok)throw new Error(`Failed to fetch spreadsheet: ${r.statusText}`);return r.json()}async getValues(t,n){const r=`${Lt}/${t}/values/${n}`,s=await fetch(r,{headers:{Authorization:`Bearer ${this.accessToken}`}});if(!s.ok)throw new Error(`Failed to fetch values: ${s.statusText}`);return(await s.json()).values||[]}async updateValues(t,n,r){const s=`${Lt}/${t}/values/${n}?valueInputOption=RAW`,l=await fetch(s,{method:"PUT",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify({values:r})});if(!l.ok)throw new Error(`Failed to update values: ${l.statusText}`)}async appendValues(t,n,r){const s=`${Lt}/${t}/values/${n}:append?valueInputOption=RAW`,l=await fetch(s,{method:"POST",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify({values:r})});if(!l.ok)throw new Error(`Failed to append values: ${l.statusText}`)}async createSpreadsheet(t){const r=await fetch(Lt,{method:"POST",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify({properties:{title:t}})});if(!r.ok)throw new Error(`Failed to create spreadsheet: ${r.statusText}`);return r.json()}async getSheetTitles(t){return((await this.getSpreadsheet(t)).sheets??[]).map(r=>r.properties.title)}async clearValues(t,n){const r=encodeURIComponent(n),s=`${Lt}/${t}/values/${r}:clear`,l=await fetch(s,{method:"POST",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify({})});if(!l.ok)throw new Error(`Failed to clear range: ${l.statusText}`)}async batchUpdate(t,n){const r=`${Lt}/${t}:batchUpdate`,s=await fetch(r,{method:"POST",headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"},body:JSON.stringify({requests:n})});if(!s.ok)throw new Error(`Failed to batch update: ${s.statusText}`)}}const mh=6e4;class ld{constructor(){A(this,"store",new Map)}set(t,n,r=mh){this.store.set(t,{value:n,expiresAt:Date.now()+r})}get(t){const n=this.store.get(t);if(n){if(n.expiresAt!==null&&Date.now()>n.expiresAt){this.store.delete(t);return}return n.value}}has(t){return this.get(t)!==void 0}invalidate(t){this.store.delete(t)}invalidateAll(){this.store.clear()}}function vh(e,t){const n=e.indexOf(t);if(n===-1)throw new Error(`Header "${t}" not found`);return n}function U(e,t,n){return e[vh(t,n)]??""}function be(e,t,n){return parseFloat(U(e,t,n))||0}function vi(e,t,n){return U(e,t,n).toLowerCase()==="true"}function Ca(e,t){if(e.length===0)throw new Error("Cannot parse empty row");return{id:U(e,t,"ID"),name:U(e,t,"Name"),role:U(e,t,"Role"),serviceStart:U(e,t,"ServiceStart"),serviceEnd:U(e,t,"ServiceEnd"),initialFairness:be(e,t,"InitialFairness"),currentFairness:be(e,t,"CurrentFairness"),status:U(e,t,"Status"),hoursWorked:be(e,t,"HoursWorked"),weekendLeavesCount:be(e,t,"WeekendLeavesCount"),midweekLeavesCount:be(e,t,"MidweekLeavesCount"),afterLeavesCount:be(e,t,"AfterLeavesCount")}}function gh(e,t){if(e.length===0)throw new Error("Cannot parse empty row");const n=U(e,t,"RoleRequirements"),r=n?JSON.parse(n):[],s=U(e,t,"SpecialDurationDays");return{id:U(e,t,"ID"),taskType:U(e,t,"TaskType"),startTime:U(e,t,"StartTime"),endTime:U(e,t,"EndTime"),durationHours:be(e,t,"DurationHours"),roleRequirements:r,minRestAfter:be(e,t,"MinRestAfter"),isSpecial:vi(e,t,"IsSpecial"),specialDurationDays:s?parseInt(s):void 0}}function Ia(e,t){if(e.length===0)throw new Error("Cannot parse empty row");return{id:U(e,t,"ID"),soldierId:U(e,t,"SoldierID"),startDate:U(e,t,"StartDate"),endDate:U(e,t,"EndDate"),leaveType:U(e,t,"LeaveType"),constraintType:U(e,t,"ConstraintType"),priority:be(e,t,"Priority"),status:U(e,t,"Status")}}function Ta(e,t){if(e.length===0)throw new Error("Cannot parse empty row");const n=U(e,t,"RequestID");return{id:U(e,t,"ID"),soldierId:U(e,t,"SoldierID"),startDate:U(e,t,"StartDate"),endDate:U(e,t,"EndDate"),leaveType:U(e,t,"LeaveType"),isWeekend:vi(e,t,"IsWeekend"),isLocked:vi(e,t,"IsLocked"),requestId:n||void 0,createdAt:U(e,t,"CreatedAt")}}function Ra(e){return[e.id,e.name,e.role,e.serviceStart,e.serviceEnd,String(e.initialFairness),String(e.currentFairness),e.status,String(e.hoursWorked),String(e.weekendLeavesCount),String(e.midweekLeavesCount),String(e.afterLeavesCount)]}function yh(e){return[e.id,e.taskType,e.startTime,e.endTime,String(e.durationHours),JSON.stringify(e.roleRequirements),String(e.minRestAfter),String(e.isSpecial),e.specialDurationDays!=null?String(e.specialDurationDays):""]}function Da(e){return[e.id,e.soldierId,e.startDate,e.endDate,e.leaveType,e.constraintType,String(e.priority),e.status]}function Aa(e){return[e.id,e.soldierId,e.startDate,e.endDate,e.leaveType,String(e.isWeekend),String(e.isLocked),e.requestId??"",e.createdAt]}const Fr=`${J.SOLDIERS}!A:L`,Or="soldiers",xh=["ID","Name","Role","ServiceStart","ServiceEnd","InitialFairness","CurrentFairness","Status","HoursWorked","WeekendLeavesCount","MidweekLeavesCount","AfterLeavesCount"];function wh(){return`s-${Date.now()}-${Math.random().toString(36).slice(2,7)}`}class Sh{constructor(t,n,r){A(this,"sheets");A(this,"spreadsheetId");A(this,"cache");this.sheets=t,this.spreadsheetId=n,this.cache=r}async fetchAll(){const t=this.cache.get(Or);if(t)return t;const n=await this.sheets.getValues(this.spreadsheetId,Fr),r=n[0]??[],s=n.slice(1).filter(i=>i.length>0),l={headers:r,rows:s};return this.cache.set(Or,l),l}async list(){const{headers:t,rows:n}=await this.fetchAll();return n.map(r=>Ca(r,t))}async getById(t){return(await this.list()).find(r=>r.id===t)??null}async create(t){var l;const n={id:wh(),name:t.name,role:t.role,serviceStart:t.serviceStart,serviceEnd:t.serviceEnd,initialFairness:0,currentFairness:0,status:"Active",hoursWorked:0,weekendLeavesCount:0,midweekLeavesCount:0,afterLeavesCount:0},r=await this.sheets.getValues(this.spreadsheetId,Fr);if(((l=r[0])==null?void 0:l[0])!=="ID"){const i=r.filter(a=>a.length>0);await this.sheets.updateValues(this.spreadsheetId,`${J.SOLDIERS}!A1:L1`,[xh]),i.length>0&&await this.sheets.appendValues(this.spreadsheetId,Fr,i)}const s=Ra(n);return await this.sheets.appendValues(this.spreadsheetId,Fr,[s]),this.cache.invalidate(Or),n}async update(t){const{headers:n,rows:r}=await this.fetchAll(),s=n.indexOf("ID"),l=r.findIndex(d=>d[s]===t.id);if(l===-1)throw new Error(`Soldier with id "${t.id}" not found`);const a={...Ca(r[l],n),...t.name!==void 0&&{name:t.name},...t.role!==void 0&&{role:t.role},...t.serviceStart!==void 0&&{serviceStart:t.serviceStart},...t.serviceEnd!==void 0&&{serviceEnd:t.serviceEnd},...t.status!==void 0&&{status:t.status},...t.hoursWorked!==void 0&&{hoursWorked:t.hoursWorked},...t.weekendLeavesCount!==void 0&&{weekendLeavesCount:t.weekendLeavesCount},...t.midweekLeavesCount!==void 0&&{midweekLeavesCount:t.midweekLeavesCount},...t.afterLeavesCount!==void 0&&{afterLeavesCount:t.afterLeavesCount},...t.currentFairness!==void 0&&{currentFairness:t.currentFairness}},u=Ra(a),c=l+2;await this.sheets.updateValues(this.spreadsheetId,`${J.SOLDIERS}!A${c}:L${c}`,[u]),this.cache.invalidate(Or)}}const Mr=`${J.TASKS}!A:I`,wl="tasks",kh=["ID","TaskType","StartTime","EndTime","DurationHours","RoleRequirements","MinRestAfter","IsSpecial","SpecialDurationDays"];function Nh(){return`task-${Date.now()}-${Math.random().toString(36).slice(2,7)}`}function Eh(e,t){const n=new Date(e).getTime(),r=new Date(t).getTime();return Math.round((r-n)/(1e3*60*60))}class jh{constructor(t,n,r){A(this,"sheets");A(this,"spreadsheetId");A(this,"cache");this.sheets=t,this.spreadsheetId=n,this.cache=r}async fetchAll(){const t=this.cache.get(wl);if(t)return t;const n=await this.sheets.getValues(this.spreadsheetId,Mr),r=n[0]??[],s=n.slice(1).filter(i=>i.length>0),l={headers:r,rows:s};return this.cache.set(wl,l),l}async list(){const{headers:t,rows:n}=await this.fetchAll();return n.map(r=>gh(r,t))}async getById(t){return(await this.list()).find(r=>r.id===t)??null}async create(t){var l;const n={id:Nh(),taskType:t.taskType,startTime:t.startTime,endTime:t.endTime,durationHours:t.durationHours!==void 0?t.durationHours:Eh(t.startTime,t.endTime),roleRequirements:t.roleRequirements,minRestAfter:t.minRestAfter??6,isSpecial:t.isSpecial??!1,specialDurationDays:t.specialDurationDays},r=await this.sheets.getValues(this.spreadsheetId,Mr);if(((l=r[0])==null?void 0:l[0])!=="ID"){const i=r.filter(a=>a.length>0);await this.sheets.updateValues(this.spreadsheetId,`${J.TASKS}!A1:I1`,[kh]),i.length>0&&await this.sheets.appendValues(this.spreadsheetId,Mr,i)}const s=yh(n);return await this.sheets.appendValues(this.spreadsheetId,Mr,[s]),this.cache.invalidate(wl),n}}const $r=`${J.LEAVE_REQUESTS}!A:H`,zr="leaveRequests",Ch=["ID","SoldierID","StartDate","EndDate","LeaveType","ConstraintType","Priority","Status"];function Ih(){return`req-${Date.now()}-${Math.random().toString(36).slice(2,7)}`}class Th{constructor(t,n,r){A(this,"sheets");A(this,"spreadsheetId");A(this,"cache");this.sheets=t,this.spreadsheetId=n,this.cache=r}async fetchAll(){const t=this.cache.get(zr);if(t)return t;const n=await this.sheets.getValues(this.spreadsheetId,$r),r=n[0]??[],s=n.slice(1).filter(i=>i.length>0),l={headers:r,rows:s};return this.cache.set(zr,l),l}async list(){const{headers:t,rows:n}=await this.fetchAll();return n.map(r=>Ia(r,t))}async getById(t){return(await this.list()).find(r=>r.id===t)??null}async create(t){var l;const n={id:Ih(),soldierId:t.soldierId,startDate:t.startDate,endDate:t.endDate,leaveType:"After",constraintType:t.constraintType,priority:t.priority,status:"Pending"},r=await this.sheets.getValues(this.spreadsheetId,$r);if(((l=r[0])==null?void 0:l[0])!=="ID"){const i=r.filter(a=>a.length>0);await this.sheets.updateValues(this.spreadsheetId,`${J.LEAVE_REQUESTS}!A1:H1`,[Ch]),i.length>0&&await this.sheets.appendValues(this.spreadsheetId,$r,i)}const s=Da(n);return await this.sheets.appendValues(this.spreadsheetId,$r,[s]),this.cache.invalidate(zr),n}async updateStatus(t,n){const{headers:r,rows:s}=await this.fetchAll(),l=r.indexOf("ID"),i=s.findIndex(v=>v[l]===t);if(i===-1)throw new Error(`Leave request with id "${t}" not found`);const u={...Ia(s[i],r),status:n},c=Da(u),d=i+2;await this.sheets.updateValues(this.spreadsheetId,`${J.LEAVE_REQUESTS}!A${d}:H${d}`,[c]),this.cache.invalidate(zr)}}const Vr=`${J.LEAVE_SCHEDULE}!A:I`,Ur="leaveAssignments",Rh=["ID","SoldierID","StartDate","EndDate","LeaveType","IsWeekend","IsLocked","RequestID","CreatedAt"];function Dh(){return`assign-${Date.now()}-${Math.random().toString(36).slice(2,7)}`}class Ah{constructor(t,n,r){A(this,"sheets");A(this,"spreadsheetId");A(this,"cache");this.sheets=t,this.spreadsheetId=n,this.cache=r}async fetchAll(){const t=this.cache.get(Ur);if(t)return t;const n=await this.sheets.getValues(this.spreadsheetId,Vr),r=n[0]??[],s=n.slice(1).filter(i=>i.length>0),l={headers:r,rows:s};return this.cache.set(Ur,l),l}async list(){const{headers:t,rows:n}=await this.fetchAll();return n.map(r=>Ta(r,t))}async listBySoldier(t){return(await this.list()).filter(r=>r.soldierId===t)}async create(t){var l;const n={id:Dh(),soldierId:t.soldierId,startDate:t.startDate,endDate:t.endDate,leaveType:t.leaveType,isWeekend:t.isWeekend,isLocked:!1,requestId:t.requestId,createdAt:new Date().toISOString()},r=await this.sheets.getValues(this.spreadsheetId,Vr);if(((l=r[0])==null?void 0:l[0])!=="ID"){const i=r.filter(a=>a.length>0);await this.sheets.updateValues(this.spreadsheetId,`${J.LEAVE_SCHEDULE}!A1:I1`,[Rh]),i.length>0&&await this.sheets.appendValues(this.spreadsheetId,Vr,i)}const s=Aa(n);return await this.sheets.appendValues(this.spreadsheetId,Vr,[s]),this.cache.invalidate(Ur),n}async setLocked(t,n){const{headers:r,rows:s}=await this.fetchAll(),l=r.indexOf("ID"),i=s.findIndex(v=>v[l]===t);if(i===-1)throw new Error(`Leave assignment with id "${t}" not found`);const u={...Ta(s[i],r),isLocked:n},c=Aa(u),d=i+2;await this.sheets.updateValues(this.spreadsheetId,`${J.LEAVE_SCHEDULE}!A${d}:I${d}`,[c]),this.cache.invalidate(Ur)}}const Hr=`${J.TASK_SCHEDULE}!A:G`,Br="taskAssignments",Lh=["ScheduleID","TaskID","SoldierID","AssignedRole","IsLocked","CreatedAt","CreatedBy"];function _h(){return`sched-${Date.now()}-${Math.random().toString(36).slice(2,7)}`}function La(e,t){const n=r=>e[t.indexOf(r)]??"";return{scheduleId:n("ScheduleID"),taskId:n("TaskID"),soldierId:n("SoldierID"),assignedRole:n("AssignedRole"),isLocked:n("IsLocked").toLowerCase()==="true",createdAt:n("CreatedAt"),createdBy:n("CreatedBy")}}function _a(e){return[e.scheduleId,e.taskId,e.soldierId,e.assignedRole,String(e.isLocked),e.createdAt,e.createdBy]}class Ph{constructor(t,n,r){A(this,"sheets");A(this,"spreadsheetId");A(this,"cache");this.sheets=t,this.spreadsheetId=n,this.cache=r}async fetchAll(){const t=this.cache.get(Br);if(t)return t;const n=await this.sheets.getValues(this.spreadsheetId,Hr),r=n[0]??[],s=n.slice(1).filter(i=>i.length>0),l={headers:r,rows:s};return this.cache.set(Br,l),l}async list(){const{headers:t,rows:n}=await this.fetchAll();return n.map(r=>La(r,t))}async listByTask(t){return(await this.list()).filter(r=>r.taskId===t)}async create(t){var l;const n={scheduleId:_h(),taskId:t.taskId,soldierId:t.soldierId,assignedRole:t.assignedRole,isLocked:!1,createdAt:new Date().toISOString(),createdBy:t.createdBy},r=await this.sheets.getValues(this.spreadsheetId,Hr);if(((l=r[0])==null?void 0:l[0])!=="ScheduleID"){const i=r.filter(a=>a.length>0);await this.sheets.updateValues(this.spreadsheetId,`${J.TASK_SCHEDULE}!A1:G1`,[Lh]),i.length>0&&await this.sheets.appendValues(this.spreadsheetId,Hr,i)}const s=_a(n);return await this.sheets.appendValues(this.spreadsheetId,Hr,[s]),this.cache.invalidate(Br),n}async setLocked(t,n){const{headers:r,rows:s}=await this.fetchAll(),l=r.indexOf("ScheduleID"),i=s.findIndex(v=>v[l]===t);if(i===-1)throw new Error(`Task assignment with scheduleId "${t}" not found`);const u={...La(s[i],r),isLocked:n},c=_a(u),d=i+2;await this.sheets.updateValues(this.spreadsheetId,`${J.TASK_SCHEDULE}!A${d}:G${d}`,[c]),this.cache.invalidate(Br)}}const Pa=`${J.CONFIG}!A:B`;class Fh{constructor(t,n){A(this,"sheets");A(this,"spreadsheetId");this.sheets=t,this.spreadsheetId=n}async read(){const n=(await this.sheets.getValues(this.spreadsheetId,Pa)).slice(1),r=new Map(n.map(a=>[a[0],a[1]])),s=(a,u)=>{const c=r.get(a);return c!==void 0?parseFloat(c):u},l=r.get("adminEmails")??"",i=l?l.split(",").map(a=>a.trim()).filter(Boolean):[];return{leaveRatioDaysInBase:s("leaveRatioDaysInBase",At.leaveRatioDaysInBase),leaveRatioDaysHome:s("leaveRatioDaysHome",At.leaveRatioDaysHome),longLeaveMaxDays:s("longLeaveMaxDays",At.longLeaveMaxDays),weekendDays:[...At.weekendDays],minBasePresence:s("minBasePresence",At.minBasePresence),minBasePresenceByRole:{},maxDrivingHours:s("maxDrivingHours",At.maxDrivingHours),defaultRestPeriod:s("defaultRestPeriod",At.defaultRestPeriod),taskTypeRestPeriods:{},adminEmails:i}}async write(t){const n=Object.entries(t).map(([r,s])=>[r,String(s)]);await this.sheets.updateValues(this.spreadsheetId,`${J.CONFIG}!A2:B${n.length+1}`,n)}async writeAdminEmails(t){const s=(await this.sheets.getValues(this.spreadsheetId,Pa)).slice(1).findIndex(l=>l[0]==="adminEmails");if(s>=0){const l=s+2;await this.sheets.updateValues(this.spreadsheetId,`${J.CONFIG}!A${l}:B${l}`,[["adminEmails",t.join(",")]])}else await this.sheets.appendValues(this.spreadsheetId,`${J.CONFIG}!A:B`,[["adminEmails",t.join(",")]])}}const Sl=`${J.HISTORY}!A:F`;class Oh{constructor(t,n){A(this,"sheets");A(this,"spreadsheetId");this.sheets=t,this.spreadsheetId=n}async append(t,n,r,s,l){const i=[new Date().toISOString(),t,n,r,s,l];await this.sheets.appendValues(this.spreadsheetId,Sl,[i])}async listAll(){return(await this.sheets.getValues(this.spreadsheetId,Sl)).slice(1).filter(n=>n.length>0).map(n=>({timestamp:n[0]??"",action:n[1]??"",entityType:n[2]??"",entityId:n[3]??"",changedBy:n[4]??"",details:n[5]??""}))}async getRecent(t,n){return(await this.sheets.getValues(this.spreadsheetId,Sl)).slice(1).filter(l=>l.length>0).filter(l=>l[2]===t&&l[3]===n).map(l=>({timestamp:l[0]??"",action:l[1]??"",entityType:l[2]??"",entityId:l[3]??"",changedBy:l[4]??"",details:l[5]??""}))}}const Fa=`${J.VERSION}!A:D`;class Mh{constructor(t,n){A(this,"sheets");A(this,"spreadsheetId");this.sheets=t,this.spreadsheetId=n}async getVersion(t){const n=await this.sheets.getValues(this.spreadsheetId,Fa);if(n.length<2)return null;const r=n[0],s=n.slice(1),l=r.indexOf("TabName"),i=r.indexOf("Version"),a=r.indexOf("LastModified"),u=r.indexOf("LastModifiedBy"),c=s.find(d=>d[l]===t);return c?{tabName:c[l],version:parseInt(c[i])||0,lastModified:c[a]??"",lastModifiedBy:c[u]??""}:null}async incrementVersion(t,n){const r=await this.sheets.getValues(this.spreadsheetId,Fa),s=r[0]??[],l=r.slice(1),i=s.indexOf("TabName"),a=s.indexOf("Version"),u=l.findIndex(y=>y[i]===t),c=u>=0?(parseInt(l[u][a])||0)+1:1,d=new Date().toISOString(),v=[t,String(c),d,n],m=u>=0?u+2:l.length+2,g=`${J.VERSION}!A${m}:D${m}`;await this.sheets.updateValues(this.spreadsheetId,g,[v])}async isStale(t,n){const r=await this.getVersion(t);return r?r.version>n:!1}}class $h{constructor(t,n){this.repo=t,this.history=n}async create(t,n){const r=await this.repo.create(t);return await this.history.append("CREATE","Soldier",r.id,n,`Created soldier ${r.name}`),r}async updateStatus(t,n,r){await this.repo.update({id:t,status:n}),await this.history.append("UPDATE_STATUS","Soldier",t,r,`Status changed to ${n}`)}async discharge(t,n){await this.repo.update({id:t,status:"Discharged"}),await this.history.append("DISCHARGE","Soldier",t,n,"Soldier discharged")}}class zh{constructor(t,n){this.repo=t,this.history=n}async create(t,n){const r=await this.repo.create(t);return await this.history.append("CREATE","Task",r.id,n,`Created task ${r.taskType}`),r}async list(){return this.repo.list()}}class Vh{constructor(t,n){this.repo=t,this.history=n}async submit(t,n){const r=await this.repo.create(t);return await this.history.append("SUBMIT","LeaveRequest",r.id,n,`Leave request from ${t.startDate} to ${t.endDate}`),r}async approve(t,n){await this.repo.updateStatus(t,"Approved"),await this.history.append("APPROVE","LeaveRequest",t,n,"Request approved")}async deny(t,n){await this.repo.updateStatus(t,"Denied"),await this.history.append("DENY","LeaveRequest",t,n,"Request denied")}}function Uh(e,t,n){return e*xl.WEEKEND_LEAVE+t*xl.MIDWEEK_LEAVE+n*xl.AFTER_LEAVE}function Sn(e){return e.hoursWorked+Uh(e.weekendLeavesCount,e.midweekLeavesCount,e.afterLeavesCount)}function Oa(e,t,n,r){return he(e)<=he(r)&&he(t)>=he(n)}function Hh(e,t,n,r){return Bh(e,t,n,r).length===0}function Bh(e,t,n,r){const s=[];if(e.status==="Discharged"||e.status==="Injured")return s.push({type:"NO_ROLE_AVAILABLE",message:`Soldier ${e.name} is ${e.status} and cannot take leave`,affectedSoldierIds:[e.id],suggestions:[]}),s;Oa(t,n,e.serviceStart,e.serviceEnd)||s.push({type:"NO_ROLE_AVAILABLE",message:`Requested dates fall outside ${e.name}'s service period`,affectedSoldierIds:[e.id],suggestions:["Choose dates within the soldier's service period"]});const l=r.filter(i=>i.soldierId===e.id);for(const i of l)Oa(t,n,i.startDate,i.endDate)&&s.push({type:"OVERLAPPING_ASSIGNMENT",message:`Leave overlaps with existing assignment from ${i.startDate} to ${i.endDate}`,affectedSoldierIds:[e.id],affectedRequestIds:[i.id],suggestions:["Choose non-overlapping dates"]});return s}function Wh(e,t){const n=he(t),r=he(e.startDate),s=he(e.endDate);return n>=r&&n<=s}function Qh(e,t,n){const r=new Set(t.filter(s=>Wh(s,n)).map(s=>s.soldierId));return e.filter(s=>r.has(s.id))}function qh(e,t,n){const r=e.filter(l=>l.status==="Active"),s=Qh(r,t,n);return r.length-s.length}function Kh(e,t,n,r){const s=e.filter(a=>a.status==="Active");return s.length===0?!0:qh(e,t,n)/s.length*100>=r.minBasePresence}function Gh(e,t,n,r,s,l){const i=[...n],a=new Map(t.map(d=>[d.id,d])),c=[...e.filter(d=>d.status==="Pending")].sort((d,v)=>{if(v.priority!==d.priority)return v.priority-d.priority;const m=a.get(d.soldierId),g=a.get(v.soldierId),y=m?Sn(m):0,x=g?Sn(g):0;return y-x});for(const d of c){const v=a.get(d.soldierId);if(!v||!Hh(v,d.startDate,d.endDate,i))continue;const m=Gp(he(d.startDate),he(d.endDate)),g={id:`tentative-${d.id}`,soldierId:d.soldierId,startDate:d.startDate,endDate:d.endDate,leaveType:d.leaveType,isWeekend:!1,isLocked:!1,createdAt:new Date().toISOString()};m.some(x=>!Kh(t,[...i,g],Kp(x),r))||i.push({id:`assign-${d.id}`,soldierId:d.soldierId,startDate:d.startDate,endDate:d.endDate,leaveType:d.leaveType,isWeekend:m.some(x=>qp(x)),isLocked:!1,requestId:d.id,createdAt:new Date().toISOString()})}return{startDate:s,endDate:l,assignments:i,conflicts:[]}}function Yh(e,t){const n=new Date(e);return n.setTime(n.getTime()+t*60*60*1e3),n.toISOString()}function Xh(e,t){return t.roleRequirements.some(n=>n.role==="Any"||n.role===e.role)}function Zh(e,t,n,r){if(e.status!=="Active"||!Xh(e,t))return!1;const s=new Date(t.startTime).getTime(),l=r.filter(i=>i.soldierId===e.id);for(const i of l){const a=n.find(c=>c.id===i.taskId);if(!a)continue;const u=new Date(Yh(a.endTime,a.minRestAfter)).getTime();if(s<u)return!1}return!0}function Jh(e,t,n){const r=[...n],s=[...e].sort((a,u)=>new Date(a.startTime).getTime()-new Date(u.startTime).getTime());for(const a of s)for(const u of a.roleRequirements){const c=r.filter(g=>g.taskId!==a.id?!1:u.role==="Any"?!0:g.assignedRole===u.role).length,d=u.count-c;if(d<=0)continue;const m=[...t.filter(g=>u.role!=="Any"&&g.role!==u.role?!1:Zh(g,a,e,r))].sort((g,y)=>Sn(g)-Sn(y));for(let g=0;g<Math.min(d,m.length);g++){const y=m[g];r.push({scheduleId:`sched-${a.id}`,taskId:a.id,soldierId:y.id,assignedRole:u.role==="Any"?y.role:u.role,isLocked:!1,createdAt:new Date().toISOString(),createdBy:"scheduler"})}}const l=e.length>0?e.reduce((a,u)=>u.startTime<a?u.startTime:a,e[0].startTime).split("T")[0]:"",i=e.length>0?e.reduce((a,u)=>u.endTime>a?u.endTime:a,e[0].endTime).split("T")[0]:"";return{startDate:l,endDate:i,assignments:r,conflicts:[]}}class bh{constructor(t,n,r,s,l,i,a){this.soldiers=t,this.leaveRequests=n,this.leaveAssignments=r,this.tasks=s,this.taskAssignments=l,this.config=i,this.history=a}async generateLeaveSchedule(t,n,r){const[s,l,i,a]=await Promise.all([this.soldiers.list(),this.leaveRequests.list(),this.leaveAssignments.list(),this.config.read()]),u=Gh(l,s,i,a,t,n),c=new Set(i.map(d=>d.id));for(const d of u.assignments)c.has(d.id)||await this.leaveAssignments.create({soldierId:d.soldierId,startDate:d.startDate,endDate:d.endDate,leaveType:d.leaveType,isWeekend:d.isWeekend,requestId:d.requestId});return await this.history.append("GENERATE_LEAVE_SCHEDULE","LeaveSchedule",t,r,`Generated for ${t} to ${n}`),u}async generateTaskSchedule(t){const[n,r,s]=await Promise.all([this.soldiers.list(),this.tasks.list(),this.taskAssignments.list()]),l=Jh(r,n,s),i=new Set(s.map(a=>`${a.taskId}:${a.soldierId}`));for(const a of l.assignments)i.has(`${a.taskId}:${a.soldierId}`)||await this.taskAssignments.create({taskId:a.taskId,soldierId:a.soldierId,assignedRole:a.assignedRole,createdBy:t});return await this.history.append("GENERATE_TASK_SCHEDULE","TaskSchedule","",t,"Generated task schedule"),l}}class em{constructor(t,n){this.repo=t,this.history=n}async applyTaskAssignment(t,n,r){const s=await this.repo.getById(t);if(!s)throw new Error(`Soldier ${t} not found`);const l=s.hoursWorked+n,i={...s,hoursWorked:l},a=Sn(i);await this.repo.update({id:t,hoursWorked:l,currentFairness:a}),await this.history.append("FAIRNESS_UPDATE","Soldier",t,r,`Task assignment: +${n}h worked`)}async applyLeaveAssignment(t,n,r,s){const l=await this.repo.getById(t);if(!l)throw new Error(`Soldier ${t} not found`);let i=l.weekendLeavesCount,a=l.midweekLeavesCount,u=l.afterLeavesCount;n==="After"?u++:r?i++:a++;const c={...l,weekendLeavesCount:i,midweekLeavesCount:a,afterLeavesCount:u},d=Sn(c);await this.repo.update({id:t,weekendLeavesCount:i,midweekLeavesCount:a,afterLeavesCount:u,currentFairness:d}),await this.history.append("FAIRNESS_UPDATE","Soldier",t,s,`Leave assignment: ${n}, weekend=${r}`)}async applyManualAdjustment(t,n,r,s){const l=await this.repo.getById(t);if(!l)throw new Error(`Soldier ${t} not found`);const i=l.currentFairness+n;await this.repo.update({id:t,currentFairness:i}),await this.history.append("MANUAL_ADJUSTMENT","Soldier",t,s,`Manual adjustment: delta=${n}, reason=${r}`)}}class tm{constructor(t,n){A(this,"sheets");A(this,"soldiers");A(this,"tasks");A(this,"leaveRequests");A(this,"leaveAssignments");A(this,"taskAssignments");A(this,"config");A(this,"history");A(this,"versions");A(this,"soldierService");A(this,"taskService");A(this,"leaveRequestService");A(this,"scheduleService");A(this,"fairnessUpdate");A(this,"cache");const r=new sd(t);this.sheets=r,this.cache=new ld,this.soldiers=new Sh(r,n,this.cache),this.tasks=new jh(r,n,this.cache),this.leaveRequests=new Th(r,n,this.cache),this.leaveAssignments=new Ah(r,n,this.cache),this.taskAssignments=new Ph(r,n,this.cache),this.config=new Fh(r,n),this.history=new Oh(r,n),this.versions=new Mh(r,n),this.soldierService=new $h(this.soldiers,this.history),this.taskService=new zh(this.tasks,this.history),this.leaveRequestService=new Vh(this.leaveRequests,this.history),this.fairnessUpdate=new em(this.soldiers,this.history),this.scheduleService=new bh(this.soldiers,this.leaveRequests,this.leaveAssignments,this.tasks,this.taskAssignments,this.config,this.history)}invalidateAll(){this.cache.invalidateAll()}}function nm(e){const{auth:t}=Kt(),[n,r]=j.useState([]),[s,l]=j.useState([]),[i,a]=j.useState([]),[u,c]=j.useState([]),[d,v]=j.useState([]),[m,g]=j.useState([]),[y,x]=j.useState(null),[R,p]=j.useState(!1),[f,h]=j.useState(null),[S,k]=j.useState(0),C=j.useMemo(()=>!t.accessToken||!e?null:new tm(t.accessToken,e),[t.accessToken,e]);return j.useEffect(()=>{C&&(p(!0),h(null),Promise.all([C.soldiers.list(),C.leaveRequests.list(),C.tasks.list(),C.taskAssignments.list(),C.leaveAssignments.list(),C.history.listAll(),C.config.read()]).then(([I,z,L,b,Ee,ye,Qe])=>{r(I),l(z),a(L),c(b),v(Ee),g(ye),x(Qe),p(!1)}).catch(I=>{h(I instanceof Error?I:new Error(String(I))),p(!1)}))},[C,S]),{ds:C,soldiers:n,leaveRequests:s,tasks:i,taskAssignments:u,leaveAssignments:d,historyEntries:m,configData:y,loading:R,error:f,reload:()=>k(I=>I+1)}}let rm=0;function sm(){const[e,t]=j.useState([]),n=j.useCallback(s=>{t(l=>l.filter(i=>i.id!==s))},[]),r=j.useCallback((s,l,i)=>{const a=`toast-${++rm}`;t(u=>[...u,{id:a,message:s,type:l}]),i&&setTimeout(()=>n(a),i)},[n]);return{toasts:e,addToast:r,removeToast:n}}const lm=6e4;function im(e,t){const[n,r]=j.useState(!1),s=j.useRef(0);return j.useEffect(()=>{if(!e){r(!1);return}const i=setInterval(async()=>{try{const a=await e.versions.isStale(t,s.current);r(a)}catch{}},lm);return()=>clearInterval(i)},[e,t]),{isStale:n}}function om(e,t,n){const[r,s]=j.useState(!1),[l,i]=j.useState([]),[a,u]=j.useState(null);return{generate:j.useCallback(async()=>{if(e){s(!0),u(null);try{const[d,v]=await Promise.all([e.scheduleService.generateLeaveSchedule(t,n,"user"),e.scheduleService.generateTaskSchedule("user")]);i([...d.conflicts,...v.conflicts])}catch(d){u(d instanceof Error?d:new Error(String(d)))}finally{s(!1)}}},[e,t,n]),loading:r,conflicts:l,error:a}}function am({isStale:e,onReload:t}){return e?o.jsxs("div",{className:"fixed top-0 left-0 right-0 z-50 bg-yellow-400 text-yellow-900 px-4 py-2 flex items-center justify-between text-sm shadow-md",children:[o.jsx("span",{children:"Data has changed since you last loaded. Reload to see the latest."}),o.jsx("button",{onClick:t,className:"ml-4 px-3 py-1 bg-yellow-700 text-white rounded hover:bg-yellow-800 font-medium",children:"Reload"})]}):null}function um({error:e,onRetry:t}){const[n,r]=j.useState(!1);return j.useEffect(()=>{r(!1)},[e]),!e||n?null:o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg px-4 py-3 flex items-center justify-between gap-3 text-sm",children:[o.jsx("span",{className:"text-red-700",children:e.message}),o.jsxs("div",{className:"flex gap-2 shrink-0",children:[o.jsx("button",{onClick:t,className:"px-2 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xs",children:"Retry"}),o.jsx("button",{onClick:()=>r(!0),className:"px-2 py-1 text-red-600 hover:text-red-800 text-xs",children:"Dismiss"})]})]})}const Wr=`${Be.ADMINS}!A:D`,Qr="admins",Ma=["AdminID","Email","AddedAt","AddedBy"];class cm{constructor(t,n,r){A(this,"sheets");A(this,"spreadsheetId");A(this,"cache");this.sheets=t,this.spreadsheetId=n,this.cache=r}async list(){const t=this.cache.get(Qr);if(t)return t;const s=(await this.sheets.getValues(this.spreadsheetId,Wr)??[]).slice(1).filter(l=>l.length>0).map(l=>({id:l[0],email:l[1],addedAt:l[2],addedBy:l[3]}));return this.cache.set(Qr,s),s}async create(t,n){var l;((l=(await this.sheets.getValues(this.spreadsheetId,Wr)??[])[0])==null?void 0:l[0])!=="AdminID"&&await this.sheets.updateValues(this.spreadsheetId,`${Be.ADMINS}!A1:D1`,[Ma]);const s={id:`admin-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,email:t.email,addedAt:new Date().toISOString(),addedBy:n};return await this.sheets.appendValues(this.spreadsheetId,`${Be.ADMINS}!A:D`,[[s.id,s.email,s.addedAt,s.addedBy]]),this.cache.invalidate(Qr),s}async remove(t){const n=await this.sheets.getValues(this.spreadsheetId,Wr),[,...r]=n??[],s=r.filter(l=>l[0]!==t);await this.sheets.clearValues(this.spreadsheetId,Wr),await this.sheets.updateValues(this.spreadsheetId,`${Be.ADMINS}!A1`,[Ma,...s]),this.cache.invalidate(Qr)}}const _n=`${Be.UNITS}!A:E`,qr="units",$a=["UnitID","Name","SpreadsheetID","CreatedAt","CreatedBy"];class dm{constructor(t,n,r){A(this,"sheets");A(this,"spreadsheetId");A(this,"cache");this.sheets=t,this.spreadsheetId=n,this.cache=r}async list(){const t=this.cache.get(qr);if(t)return t;const s=(await this.sheets.getValues(this.spreadsheetId,_n)??[]).slice(1).filter(l=>l.length>0).map(l=>({id:l[0],name:l[1],spreadsheetId:l[2],createdAt:l[3],createdBy:l[4]}));return this.cache.set(qr,s),s}async create(t,n){var l;((l=(await this.sheets.getValues(this.spreadsheetId,_n)??[])[0])==null?void 0:l[0])!=="UnitID"&&await this.sheets.updateValues(this.spreadsheetId,`${Be.UNITS}!A1:E1`,[$a]);const s={id:`unit-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,name:t.name,spreadsheetId:t.spreadsheetId,createdAt:new Date().toISOString(),createdBy:n};return await this.sheets.appendValues(this.spreadsheetId,_n,[[s.id,s.name,s.spreadsheetId,s.createdAt,s.createdBy]]),this.cache.invalidate(qr),s}async remove(t){const n=await this.sheets.getValues(this.spreadsheetId,_n),[,...r]=n??[],s=r.filter(l=>l[0]!==t);await this.sheets.clearValues(this.spreadsheetId,_n),await this.sheets.updateValues(this.spreadsheetId,`${Be.UNITS}!A1`,[$a,...s]),this.cache.invalidate(qr)}}const Pn=`${Be.COMMANDERS}!A:E`,Kr="commanders",za=["CommanderID","Email","UnitID","AddedAt","AddedBy"];class fm{constructor(t,n,r){A(this,"sheets");A(this,"spreadsheetId");A(this,"cache");this.sheets=t,this.spreadsheetId=n,this.cache=r}async list(){const t=this.cache.get(Kr);if(t)return t;const s=(await this.sheets.getValues(this.spreadsheetId,Pn)??[]).slice(1).filter(l=>l.length>0).map(l=>({id:l[0],email:l[1],unitId:l[2],addedAt:l[3],addedBy:l[4]}));return this.cache.set(Kr,s),s}async listByUnit(t){return(await this.list()).filter(r=>r.unitId===t)}async create(t,n){var l;((l=(await this.sheets.getValues(this.spreadsheetId,Pn)??[])[0])==null?void 0:l[0])!=="CommanderID"&&await this.sheets.updateValues(this.spreadsheetId,`${Be.COMMANDERS}!A1:E1`,[za]);const s={id:`cmd-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,email:t.email,unitId:t.unitId,addedAt:new Date().toISOString(),addedBy:n};return await this.sheets.appendValues(this.spreadsheetId,Pn,[[s.id,s.email,s.unitId,s.addedAt,s.addedBy]]),this.cache.invalidate(Kr),s}async remove(t){const n=await this.sheets.getValues(this.spreadsheetId,Pn),[,...r]=n??[],s=r.filter(l=>l[0]!==t);await this.sheets.clearValues(this.spreadsheetId,Pn),await this.sheets.updateValues(this.spreadsheetId,`${Be.COMMANDERS}!A1`,[za,...s]),this.cache.invalidate(Kr)}}class pm{constructor(t,n){A(this,"admins");A(this,"units");A(this,"commanders");A(this,"sheets");A(this,"spreadsheetId");this.sheets=new sd(t),this.spreadsheetId=n;const r=new ld;this.admins=new cm(this.sheets,n,r),this.units=new dm(this.sheets,n,r),this.commanders=new fm(this.sheets,n,r)}async initialize(t){const n=await this.sheets.getSheetTitles(this.spreadsheetId),s=Object.values(Be).filter(i=>!n.includes(i));if(s.length>0){const i=s.map(a=>({addSheet:{properties:{title:a}}}));await this.sheets.batchUpdate(this.spreadsheetId,i)}(await this.admins.list()).length===0&&t&&await this.admins.create({email:t},"system")}async resolveRole(t){const[n,r,s]=await Promise.all([this.admins.list(),this.commanders.list(),this.units.list()]);if(n.some(i=>i.email===t))return{role:"admin"};const l=r.find(i=>i.email===t);if(l){const i=s.find(a=>a.id===l.unitId);if(i)return{role:"commander",unitId:l.unitId,unit:i}}return null}}function hm(){const{signOut:e}=Kt();return o.jsx("div",{className:"min-h-screen bg-olive-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center space-y-4 max-w-md px-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-olive-800",children:"Access Denied"}),o.jsx("p",{className:"text-olive-600",children:"Your account is not authorized to access this application."}),o.jsx("p",{className:"text-olive-500 text-sm",children:"Contact your admin to get access."}),o.jsx("button",{onClick:e,className:"px-4 py-2 bg-olive-700 text-white rounded-lg hover:bg-olive-800",children:"Sign out"})]})})}function mm({masterDs:e,currentAdminEmail:t,onEnterUnit:n}){const{signOut:r}=Kt(),[s,l]=j.useState("admins"),[i,a]=j.useState([]),[u,c]=j.useState([]),[d,v]=j.useState([]),[m,g]=j.useState(!0),[y,x]=j.useState(null),[R,p]=j.useState(""),[f,h]=j.useState(""),[S,k]=j.useState(""),[C,E]=j.useState(""),[I,z]=j.useState("");async function L(){g(!0);const[w,_,P]=await Promise.all([e.admins.list(),e.units.list(),e.commanders.list()]);a(w),c(_),v(P),g(!1)}j.useEffect(()=>{L()},[]);async function b(){if(R){x(null);try{await e.admins.create({email:R},t),p(""),await L()}catch{x("Failed to add admin")}}}async function Ee(w){x(null);try{await e.admins.remove(w),await L()}catch{x("Failed to remove admin")}}async function ye(){if(!(!f||!S)){x(null);try{await e.units.create({name:f,spreadsheetId:S},t),h(""),k(""),await L()}catch{x("Failed to add unit")}}}async function Qe(w){x(null);try{await e.units.remove(w),await L()}catch{x("Failed to remove unit")}}async function Tt(){if(!(!C||!I)){x(null);try{await e.commanders.create({email:C,unitId:I},t),E(""),z(""),await L()}catch{x("Failed to add commander")}}}async function T(w){x(null);try{await e.commanders.remove(w),await L()}catch{x("Failed to remove commander")}}const M=w=>`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${s===w?"bg-olive-700 text-white":"text-olive-600 hover:bg-olive-100"}`;return o.jsxs("div",{className:"min-h-screen bg-olive-50",children:[o.jsx("header",{className:"bg-white border-b-2 border-olive-700 shadow-sm",children:o.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-3 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:"/logo-unit.jpg",alt:" ",className:"h-8 w-8 object-contain rounded"}),o.jsx("span",{className:"text-xl font-bold text-olive-800",children:"ShabTzak"}),o.jsx("span",{className:"text-sm text-olive-500 border-l border-olive-200 pl-3",children:"Admin Panel"})]}),o.jsx("button",{onClick:r,className:"text-sm text-olive-500 hover:text-red-600 transition-colors",children:"Sign out"})]})}),o.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-6 space-y-6",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{className:M("admins"),onClick:()=>l("admins"),children:"Admins"}),o.jsx("button",{className:M("units"),onClick:()=>l("units"),children:"Units"}),o.jsx("button",{className:M("commanders"),onClick:()=>l("commanders"),children:"Commanders"})]}),y&&o.jsx("div",{role:"alert",className:"bg-red-50 border border-red-200 rounded-lg px-3 py-2 text-sm text-red-700",children:y}),m&&o.jsx("p",{className:"text-olive-500",children:"Loading"}),!m&&s==="admins"&&o.jsxs("div",{className:"bg-white rounded-xl border border-olive-200 shadow-sm p-4 space-y-4",children:[o.jsx("h2",{className:"font-semibold text-olive-800",children:"Admins"}),o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-olive-700 text-white",children:[o.jsx("th",{className:"text-left p-2 rounded-tl",children:"Email"}),o.jsx("th",{className:"text-left p-2",children:"Added At"}),o.jsx("th",{className:"text-left p-2 rounded-tr",children:"Action"})]})}),o.jsx("tbody",{children:i.map(w=>o.jsxs("tr",{className:"border-b border-olive-100",children:[o.jsx("td",{className:"p-2",children:w.email}),o.jsx("td",{className:"p-2 text-olive-500",children:w.addedAt?new Date(w.addedAt).toLocaleDateString():""}),o.jsx("td",{className:"p-2",children:o.jsx("button",{onClick:()=>Ee(w.id),disabled:w.email===t,className:"text-xs px-2 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 disabled:opacity-40 disabled:cursor-not-allowed",children:"Remove"})})]},w.id))})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{value:R,onChange:w=>p(w.target.value),placeholder:"admin@example.com",className:"flex-1 border border-olive-200 rounded px-2 py-1 text-sm"}),o.jsx("button",{onClick:b,className:"px-3 py-1 bg-olive-700 text-white text-sm rounded hover:bg-olive-800",children:"Add Admin"})]})]}),!m&&s==="units"&&o.jsxs("div",{className:"bg-white rounded-xl border border-olive-200 shadow-sm p-4 space-y-4",children:[o.jsx("h2",{className:"font-semibold text-olive-800",children:"Units"}),o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-olive-700 text-white",children:[o.jsx("th",{className:"text-left p-2 rounded-tl",children:"Name"}),o.jsx("th",{className:"text-left p-2",children:"Spreadsheet"}),o.jsx("th",{className:"text-left p-2 rounded-tr",children:"Actions"})]})}),o.jsx("tbody",{children:u.map(w=>o.jsxs("tr",{className:"border-b border-olive-100",children:[o.jsx("td",{className:"p-2 font-medium",children:w.name}),o.jsx("td",{className:"p-2",children:o.jsx("a",{href:`https://docs.google.com/spreadsheets/d/${w.spreadsheetId}`,target:"_blank",rel:"noopener noreferrer",className:"text-olive-600 hover:underline text-xs",children:"Open "})}),o.jsxs("td",{className:"p-2 flex gap-2",children:[o.jsx("button",{onClick:()=>n(w),className:"text-xs px-2 py-1 bg-olive-700 text-white rounded hover:bg-olive-800",children:"Enter Unit"}),o.jsx("button",{onClick:()=>Qe(w.id),className:"text-xs px-2 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200",children:"Remove"})]})]},w.id))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx("input",{value:f,onChange:w=>h(w.target.value),placeholder:"Unit name",className:"border border-olive-200 rounded px-2 py-1 text-sm"}),o.jsx("input",{value:S,onChange:w=>k(w.target.value),placeholder:"Google Sheet ID",className:"border border-olive-200 rounded px-2 py-1 text-sm"}),o.jsx("button",{onClick:ye,className:"col-span-2 px-3 py-1 bg-olive-700 text-white text-sm rounded hover:bg-olive-800",children:"Add Unit"})]})]}),!m&&s==="commanders"&&o.jsxs("div",{className:"bg-white rounded-xl border border-olive-200 shadow-sm p-4 space-y-4",children:[o.jsx("h2",{className:"font-semibold text-olive-800",children:"Commanders"}),o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-olive-700 text-white",children:[o.jsx("th",{className:"text-left p-2 rounded-tl",children:"Email"}),o.jsx("th",{className:"text-left p-2",children:"Unit"}),o.jsx("th",{className:"text-left p-2 rounded-tr",children:"Action"})]})}),o.jsx("tbody",{children:d.map(w=>{var P;const _=((P=u.find(F=>F.id===w.unitId))==null?void 0:P.name)??w.unitId;return o.jsxs("tr",{className:"border-b border-olive-100",children:[o.jsx("td",{className:"p-2",children:w.email}),o.jsx("td",{className:"p-2 text-olive-500",children:_}),o.jsx("td",{className:"p-2",children:o.jsx("button",{onClick:()=>T(w.id),className:"text-xs px-2 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200",children:"Remove"})})]},w.id)})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx("input",{value:C,onChange:w=>E(w.target.value),placeholder:"commander@example.com",className:"border border-olive-200 rounded px-2 py-1 text-sm"}),o.jsxs("select",{value:I,onChange:w=>z(w.target.value),className:"border border-olive-200 rounded px-2 py-1 text-sm",children:[o.jsx("option",{value:"",children:"Select unit..."}),u.map(w=>o.jsx("option",{value:w.id,children:w.name},w.id))]}),o.jsx("button",{onClick:Tt,className:"col-span-2 px-3 py-1 bg-olive-700 text-white text-sm rounded hover:bg-olive-800",children:"Add Commander"})]})]})]})]})}function Va(){const e=window.location.hash;return e==="#soldiers"?"soldiers":e==="#tasks"?"tasks":e==="#leave"?"leave":e==="#schedule"?"schedule":e==="#history"?"history":"dashboard"}function vm(e){const t=new Date;return Array.from({length:e},(n,r)=>{const s=new Date(t);return s.setDate(t.getDate()+r),s.toISOString().split("T")[0]})}function gm({spreadsheetId:e,unitName:t,onBackToAdmin:n}){const[r,s]=j.useState(Va),[l,i]=j.useState(!1),a=vm(30),u=new Date().toISOString().split("T")[0],c=a[a.length-1]??u;j.useEffect(()=>{const F=()=>s(Va());return window.addEventListener("hashchange",F),()=>window.removeEventListener("hashchange",F)},[]);const{ds:d,soldiers:v,leaveRequests:m,tasks:g,taskAssignments:y,leaveAssignments:x,historyEntries:R,configData:p,loading:f,error:h,reload:S}=nm(e),{auth:k}=Kt(),{toasts:C,addToast:E,removeToast:I}=sm(),{isStale:z}=im(d,"Soldiers"),{generate:L,conflicts:b}=om(d,u,c);async function Ee(F){try{await(d==null?void 0:d.soldierService.discharge(F,"user")),S(),E("Soldier discharged","success")}catch{E("Failed to discharge soldier","error")}}async function ye(F){try{await(d==null?void 0:d.soldierService.create(F,"user")),S(),E("Soldier added","success")}catch{E("Failed to add soldier","error")}}async function Qe(F,Q,fe){try{await(d==null?void 0:d.fairnessUpdate.applyManualAdjustment(F,Q,fe,"user")),S(),E("Fairness adjusted","success")}catch{E("Failed to adjust fairness","error")}}async function Tt(F){try{await(d==null?void 0:d.leaveRequestService.submit(F,"user")),i(!1),S(),E("Leave request submitted","success")}catch{E("Failed to submit leave request","error")}}async function T(F){try{await(d==null?void 0:d.leaveRequestService.approve(F,"user")),S(),E("Leave request approved","success")}catch{E("Failed to approve leave request","error")}}async function M(F){try{await(d==null?void 0:d.taskService.create(F,"user")),S(),E("Task added","success")}catch{E("Failed to add task","error")}}async function w(F){try{await(d==null?void 0:d.leaveRequestService.deny(F,"user")),S(),E("Leave request denied","success")}catch{E("Failed to deny leave request","error")}}async function _(F,Q,fe){try{await(d==null?void 0:d.taskAssignments.create({taskId:Q,soldierId:F,assignedRole:fe,createdBy:k.email??"user"})),S(),E("Assignment created","success")}catch{E("Failed to create assignment","error")}}async function P(){if(d)try{await L();const F=new Set(x.map(fe=>fe.id)),Q=await d.scheduleService.generateLeaveSchedule(u,c,"user");for(const fe of Q.assignments)F.has(fe.id)||await d.fairnessUpdate.applyLeaveAssignment(fe.soldierId,fe.leaveType,fe.isWeekend,"user");S(),E("Schedule generated","success")}catch{E("Failed to generate schedule","error")}}return f?o.jsx(ka,{unitName:t,onBackToAdmin:n,children:o.jsx("div",{className:"flex items-center justify-center py-20",children:o.jsx("p",{className:"text-gray-500",children:"Loading"})})}):o.jsxs(ka,{unitName:t,onBackToAdmin:n,children:[o.jsx(am,{isStale:z,onReload:S}),o.jsx(um,{error:h,onRetry:S}),o.jsx(ph,{toasts:C,onRemove:I}),r==="dashboard"&&o.jsx(Mp,{soldiers:v,leaveRequests:m,taskAssignments:y,conflicts:b,onGenerateSchedule:P}),r==="soldiers"&&o.jsx(Wp,{soldiers:v,onDischarge:Ee,onAddSoldier:ye,onAdjustFairness:Qe,configData:p,leaveAssignments:x}),r==="tasks"&&o.jsx(ch,{tasks:g,onAddTask:M}),r==="leave"&&(l?o.jsx(Qp,{soldiers:v,onSubmit:Tt,onCancel:()=>i(!1)}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>i(!0),className:"px-3 py-1.5 text-sm bg-olive-700 text-white rounded-lg hover:bg-olive-800",children:"New Request"})}),o.jsx(Xp,{leaveRequests:m,soldiers:v,onApprove:T,onDeny:w})]})),r==="schedule"&&o.jsx(oh,{soldiers:v,dates:a,tasks:g,taskAssignments:y,leaveAssignments:x,conflicts:b,onGenerate:P,onManualAssign:_}),r==="history"&&o.jsx(dh,{entries:R,loading:f})]})}function ym(){const{auth:e}=Kt(),[t,n]=j.useState("loading"),[r,s]=j.useState(null),[l,i]=j.useState(null);if(j.useEffect(()=>{if(!e.isAuthenticated||!e.email||!e.accessToken){n("loading");return}const c=new pm(e.accessToken,hi.spreadsheetId);s(c),c.initialize(hi.adminEmail).then(()=>c.resolveRole(e.email)).then(d=>{if(!d){n("denied");return}d.role==="admin"&&n("admin"),d.role==="commander"&&(i(d.unit),n("unit"))}).catch(()=>n("denied"))},[e.isAuthenticated,e.email,e.accessToken]),!e.isAuthenticated)return o.jsx(nd,{});if(t==="loading")return o.jsx("div",{className:"min-h-screen bg-olive-50 flex items-center justify-center",children:o.jsx("p",{className:"text-olive-500",children:"Loading"})});if(t==="denied")return o.jsx(hm,{});if(t==="admin"&&!l)return o.jsx(mm,{masterDs:r,currentAdminEmail:e.email,onEnterUnit:c=>{i(c),n("unit")}});const a=(l==null?void 0:l.spreadsheetId)??"",u=t==="admin";return o.jsx(gm,{spreadsheetId:a,unitName:(l==null?void 0:l.name)??"",onBackToAdmin:u?()=>{i(null),n("admin")}:void 0})}function xm(){return o.jsx(hh,{children:o.jsx(Op,{children:o.jsx(ym,{})})})}ed(document.getElementById("root")).render(o.jsx(j.StrictMode,{children:o.jsx(xm,{})}));
